!function($,t,e,i){"use strict";function n(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),t}var r=function(t){for(var e=t.length,i=$("head");e--;)0===i.has("."+t[e]).length&&i.append('<meta class="'+t[e]+'" />')};r(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),$(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof e.body&&FastClick.attach(e.body)});var o=function(t,i){if("string"==typeof t){if(i){var n;if(i.jquery){if(n=i[0],!n)return i}else n=i;return $(n.querySelectorAll(t))}return $(e.querySelectorAll(t))}return $(t,i)},s=function(t){var e=[];return t||e.push("data"),this.namespace.length>0&&e.push(this.namespace),e.push(this.name),e.join("-")},a=function(t){for(var e=t.split("-"),i=e.length,n=[];i--;)0!==i?n.push(e[i]):this.namespace.length>0?n.push(this.namespace,e[i]):n.push(e[i]);return n.reverse().join("-")},l=function(t,e){var i=this,n=function(){var n=o(this),r=!n.data(i.attr_name(!0)+"-init");n.data(i.attr_name(!0)+"-init",$.extend({},i.settings,e||t,i.data_options(n))),r&&i.events(this)};return o(this.scope).is("["+this.attr_name()+"]")?n.call(this.scope):o("["+this.attr_name()+"]",this.scope).each(n),"string"==typeof t?this[t].call(this,e):void 0},u=function(t,e){function i(){e(t[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?i():n.call(t)):void i()};t.matchMedia=t.matchMedia||function(t){var e,i=t.documentElement,n=i.firstElementChild||i.firstChild,r=t.createElement("body"),o=t.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(o),function(t){return o.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(r,n),e=42===o.offsetWidth,i.removeChild(r),{matches:e,media:t}}}(e),function(e){function i(){n&&(s(i),l&&e.fx.tick())}for(var n,r=0,o=["webkit","moz"],s=t.requestAnimationFrame,a=t.cancelAnimationFrame,l="undefined"!=typeof e.fx;r<o.length&&!s;r++)s=t[o[r]+"RequestAnimationFrame"],a=a||t[o[r]+"CancelAnimationFrame"]||t[o[r]+"CancelRequestAnimationFrame"];s?(t.requestAnimationFrame=s,t.cancelAnimationFrame=a,l&&(e.fx.timer=function(t){t()&&e.timers.push(t)&&!n&&(n=!0,i())},e.fx.stop=function(){n=!1})):(t.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-r)),o=t.setTimeout(function(){e(i+n)},n);return r=i+n,o},t.cancelAnimationFrame=function(t){clearTimeout(t)})}($),t.Foundation={name:"Foundation",version:"5.5.1",media_queries:{small:o(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":o(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:o(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":o(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:o(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":o(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:o(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":o(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:o(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:$("<style></style>").appendTo("head")[0].sheet,global:{namespace:i},init:function(e,i,n,r,s){var a=[e,n,r,s],l=[];if(this.rtl=/rtl/i.test(o("html").attr("dir")),this.scope=e||this.scope,this.set_namespace(),i&&"string"==typeof i&&!/reflow/i.test(i))this.libs.hasOwnProperty(i)&&l.push(this.init_lib(i,a));else for(var u in this.libs)l.push(this.init_lib(u,i));return o(t).load(function(){o(t).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),e},init_lib:function(t,e){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),e&&e.hasOwnProperty(t)?("undefined"!=typeof this.libs[t].settings?$.extend(!0,this.libs[t].settings,e[t]):"undefined"!=typeof this.libs[t].defaults&&$.extend(!0,this.libs[t].defaults,e[t]),this.libs[t].init.apply(this.libs[t],[this.scope,e[t]])):(e=e instanceof Array?e:new Array(e),this.libs[t].init.apply(this.libs[t],e))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=s,t.add_namespace=a,t.bindings=l,t.S=this.utils.S},inherit:function(t,e){for(var i=e.split(" "),n=i.length;n--;)this.utils.hasOwnProperty(i[n])&&(t[i[n]]=this.utils[i[n]])},set_namespace:function(){var t=this.global.namespace===i?$(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===i||/false/i.test(t)?"":t},libs:{},utils:{S:o,throttle:function(t,e){var i=null;return function(){var n=this,r=arguments;null==i&&(i=setTimeout(function(){t.apply(n,r),i=null},e))}},debounce:function(t,e,i){var n,r;return function(){var o=this,s=arguments,a=function(){n=null,i||(r=t.apply(o,s))},l=i&&!n;return clearTimeout(n),n=setTimeout(a,e),l&&(r=t.apply(o,s)),r}},data_options:function(t,e){function i(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function n(t){return"string"==typeof t?$.trim(t):t}e=e||"options";var r={},o,s,a,l=function(t){var i=Foundation.global.namespace;return t.data(i.length>0?i+"-"+e:e)},u=l(t);if("object"==typeof u)return u;for(a=(u||":").split(";"),o=a.length;o--;)s=a[o].split(":"),s=[s[0],s.slice(1).join(":")],/true/i.test(s[1])&&(s[1]=!0),/false/i.test(s[1])&&(s[1]=!1),i(s[1])&&(s[1]=-1===s[1].indexOf(".")?parseInt(s[1],10):parseFloat(s[1])),2===s.length&&s[0].length>0&&(r[n(s[0])]=n(s[1]));return r},register_media:function(t,e){Foundation.media_queries[t]===i&&($("head").append('<meta class="'+e+'"/>'),Foundation.media_queries[t]=n($("."+e).css("font-family")))},add_custom_rule:function(t,e){if(e===i&&Foundation.stylesheet)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);else{var n=Foundation.media_queries[e];n!==i&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }")}},image_loaded:function(t,e){var i=this,n=t.length;0===n&&e(t),t.each(function(){u(i.S(this),function(){n-=1,0===n&&e(t)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(e){return t.matchMedia(e).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},$.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,window,window.document),function($,t,e,i){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.1",settings:{use_tallest:!0,before_height_change:$.noop,after_height_change:$.noop,equalize_on_stack:!1},init:function(t,e,i){Foundation.inherit(this,"image_loaded"),this.bindings(e,i),this.reflow()},events:function(){this.S(t).off(".equalizer").on("resize.fndtn.equalizer",function(t){this.reflow()}.bind(this))},equalize:function(t){var e=!1,i=t.find("["+this.attr_name()+"-watch]:visible"),n=t.data(this.attr_name(!0)+"-init");if(0!==i.length){var r=i.first().offset().top;if(n.before_height_change(),t.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),i.height("inherit"),i.each(function(){var t=$(this);t.offset().top!==r&&(e=!0)}),n.equalize_on_stack!==!1||!e){var o=i.map(function(){return $(this).outerHeight(!1)}).get();if(n.use_tallest){var s=Math.max.apply(null,o);i.css("height",s)}else{var a=Math.min.apply(null,o);i.css("height",a)}n.after_height_change(),t.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var t=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var e=$(this);t.image_loaded(t.S("img",this),function(){t.equalize(e)})})}}}(jQuery,window,window.document),function($,t,e,i){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.1",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(t,e,i){Foundation.inherit(this,"add_custom_rule register_media throttle");var n=this;n.register_media("topbar","foundation-mq-topbar"),this.bindings(e,i),n.S("["+this.attr_name()+"]",this.scope).each(function(){var t=$(this),e=t.data(n.attr_name(!0)+"-init"),i=n.S("section, .top-bar-section",this);t.data("index",0);var r=t.parent();r.hasClass("fixed")||n.is_sticky(t,r,e)?(n.settings.sticky_class=e.sticky_class,n.settings.sticky_topbar=t,t.data("height",r.outerHeight()),t.data("stickyoffset",r.offset().top)):t.data("height",t.outerHeight()),e.assembled||n.assemble(t),e.is_hover?n.S(".has-dropdown",t).addClass("not-click"):n.S(".has-dropdown",t).removeClass("not-click"),n.add_custom_rule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),r.hasClass("fixed")&&n.S("body").addClass("f-topbar-fixed")})},is_sticky:function(t,e,i){var n=e.hasClass(i.sticky_class),r=matchMedia(Foundation.media_queries.small).matches,o=matchMedia(Foundation.media_queries.medium).matches,s=matchMedia(Foundation.media_queries.large).matches;return n&&"all"===i.sticky_on?!0:n&&this.small()&&-1!==i.sticky_on.indexOf("small")&&r&&!o&&!s?!0:n&&this.medium()&&-1!==i.sticky_on.indexOf("medium")&&r&&o&&!s?!0:n&&this.large()&&-1!==i.sticky_on.indexOf("large")&&r&&o&&s?!0:n&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1},toggle:function(e){var i=this,n;n=e?i.S(e).closest("["+this.attr_name()+"]"):i.S("["+this.attr_name()+"]");var r=n.data(this.attr_name(!0)+"-init"),o=i.S("section, .top-bar-section",n);i.breakpoint()&&(i.rtl?(o.css({right:"0%"}),$(">.name",o).css({right:"100%"})):(o.css({left:"0%"}),$(">.name",o).css({left:"100%"})),i.S("li.moved",o).removeClass("moved"),n.data("index",0),n.toggleClass("expanded").css("height","")),r.scrolltop?n.hasClass("expanded")?n.parent().hasClass("fixed")&&(r.scrolltop?(n.parent().removeClass("fixed"),n.addClass("fixed"),i.S("body").removeClass("f-topbar-fixed"),t.scrollTo(0,0)):n.parent().removeClass("expanded")):n.hasClass("fixed")&&(n.parent().addClass("fixed"),n.removeClass("fixed"),i.S("body").addClass("f-topbar-fixed")):(i.is_sticky(n,n.parent(),r)&&n.parent().addClass("fixed"),n.parent().hasClass("fixed")&&(n.hasClass("expanded")?(n.addClass("fixed"),n.parent().addClass("expanded"),i.S("body").addClass("f-topbar-fixed")):(n.removeClass("fixed"),n.parent().removeClass("expanded"),i.update_sticky_positioning())))},timer:null,events:function(e){var i=this,n=this.S;n(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(t){t.preventDefault(),i.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(t){var e=$(this).closest("li");!i.breakpoint()||e.hasClass("back")||e.hasClass("has-dropdown")||i.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(t){var e=n(this),r=n(t.target),o=e.closest("["+i.attr_name()+"]"),s=o.data(i.attr_name(!0)+"-init");return r.data("revealId")?void i.toggle():void(i.breakpoint()||(!s.is_hover||Modernizr.touch)&&(t.stopImmediatePropagation(),e.hasClass("hover")?(e.removeClass("hover").find("li").removeClass("hover"),e.parents("li.hover").removeClass("hover")):(e.addClass("hover"),$(e).siblings().removeClass("hover"),"A"===r[0].nodeName&&r.parent().hasClass("has-dropdown")&&t.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(t){if(i.breakpoint()){t.preventDefault();var e=n(this),r=e.closest("["+i.attr_name()+"]"),o=r.find("section, .top-bar-section"),s=e.next(".dropdown").outerHeight(),a=e.closest("li");r.data("index",r.data("index")+1),a.addClass("moved"),i.rtl?(o.css({right:-(100*r.data("index"))+"%"}),o.find(">.name").css({right:100*r.data("index")+"%"})):(o.css({left:-(100*r.data("index"))+"%"}),o.find(">.name").css({left:100*r.data("index")+"%"})),r.css("height",e.siblings("ul").outerHeight(!0)+r.data("height"))}}),n(t).off(".topbar").on("resize.fndtn.topbar",i.throttle(function(){i.resize.call(i)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){n(this).trigger("resize.fndtn.topbar")}),n("body").off(".topbar").on("click.fndtn.topbar",function(t){var e=n(t.target).closest("li").closest("li.hover");e.length>0||n("["+i.attr_name()+"] li.hover").removeClass("hover")}),n(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(t){t.preventDefault();var e=n(this),r=e.closest("["+i.attr_name()+"]"),o=r.find("section, .top-bar-section"),s=r.data(i.attr_name(!0)+"-init"),a=e.closest("li.moved"),l=a.parent();r.data("index",r.data("index")-1),i.rtl?(o.css({right:-(100*r.data("index"))+"%"}),o.find(">.name").css({right:100*r.data("index")+"%"})):(o.css({left:-(100*r.data("index"))+"%"}),o.find(">.name").css({left:100*r.data("index")+"%"})),0===r.data("index")?r.css("height",""):r.css("height",l.outerHeight(!0)+r.data("height")),setTimeout(function(){a.removeClass("moved")},300)}),n(this.scope).find(".dropdown a").focus(function(){$(this).parents(".has-dropdown").addClass("hover")}).blur(function(){$(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var t=this;t.S("["+this.attr_name()+"]").each(function(){var i=t.S(this),n=i.data(t.attr_name(!0)+"-init"),r=i.parent("."+t.settings.sticky_class),o;if(!t.breakpoint()){var s=i.hasClass("expanded");i.css("height","").removeClass("expanded").find("li").removeClass("hover"),s&&t.toggle(i)}t.is_sticky(i,r,n)&&(r.hasClass("fixed")?(r.removeClass("fixed"),o=r.offset().top,t.S(e.body).hasClass("f-topbar-fixed")&&(o-=i.data("height")),i.data("stickyoffset",o),r.addClass("fixed")):(o=r.offset().top,i.data("stickyoffset",o)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(t){var e=this,i=t.data(this.attr_name(!0)+"-init"),n=e.S("section, .top-bar-section",t);n.detach(),e.S(".has-dropdown>a",n).each(function(){var t=e.S(this),n=t.siblings(".dropdown"),r=t.attr("href"),o;n.find(".title.back").length||(o=$(1==i.mobile_show_parent_link&&r?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-large-up"><a class="parent-link js-generated" href="'+r+'">'+t.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),$("h5>a",o).html(1==i.custom_back_text?i.back_text:"&laquo; "+t.html()),n.prepend(o))}),n.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data(this.attr_name(!0),$.extend({},t.data(this.attr_name(!0)),{assembled:!0}))},height:function(t){var e=0,i=this;return $("> li",t).each(function(){e+=i.S(this).outerHeight(!0)}),e},sticky:function(){var e=this;this.S(t).on("scroll",function(){e.update_sticky_positioning()})},update_sticky_positioning:function(){var e="."+this.settings.sticky_class,i=this.S(t),n=this;if(n.settings.sticky_topbar&&n.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var r=this.settings.sticky_topbar.data("stickyoffset");n.S(e).hasClass("expanded")||(i.scrollTop()>r?n.S(e).hasClass("fixed")||(n.S(e).addClass("fixed"),n.S("body").addClass("f-topbar-fixed")):i.scrollTop()<=r&&n.S(e).hasClass("fixed")&&(n.S(e).removeClass("fixed"),n.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(t).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),function($,t,e,i){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.3.0",settings:{use_tallest:!0,before_height_change:$.noop,after_height_change:$.noop,equalize_on_stack:!1},init:function(t,e,i){Foundation.inherit(this,"image_loaded"),this.bindings(e,i),this.reflow()},events:function(){this.S(t).off(".equalizer").on("resize.fndtn.equalizer",function(t){this.reflow()}.bind(this))},equalize:function(t){var e=!1,i=t.find("["+this.attr_name()+"-watch]:visible"),n=t.data(this.attr_name(!0)+"-init");if(0!==i.length){var r=i.first().offset().top;if(n.before_height_change(),t.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),i.height("inherit"),i.each(function(){var t=$(this);t.offset().top!==r&&(e=!0)}),n.equalize_on_stack!==!1||!e){var o=i.map(function(){return $(this).outerHeight(!1)}).get();if(n.use_tallest){var s=Math.max.apply(null,o);i.css("height",s)}else{var a=Math.min.apply(null,o);i.css("height",a)}n.after_height_change(),t.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var t=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var e=$(this);t.image_loaded(t.S("img",this),function(){t.equalize(e)})})}}}(jQuery,window,window.document),$(document).foundation(),function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function($){return e($,t)}):e(t.jQuery,t)}(this,function($,i){var n,r,o,s,a,l,u,h,c,p,d,f,m,g,v,y;return n=$(i),h=t.call(i,"ontouchstart")>=0,s={horizontal:{},vertical:{}},a=1,u={},l="waypoints-context-id",d="resize.waypoints",f="scroll.waypoints",m=1,g="waypoints-waypoint-ids",v="waypoint",y="waypoints",r=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+a++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[l]=this.id,u[this.id]=this,t.bind(f,function(){var t;return e.didScroll||h?void 0:(e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},i.setTimeout(t,$[y].settings.scrollThrottle))}),t.bind(d,function(){var t;return e.didResize?void 0:(e.didResize=!0,t=function(){return $[y]("refresh"),e.didResize=!1},i.setTimeout(t,$[y].settings.resizeThrottle))})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!h||t.vertical.oldScroll&&t.vertical.newScroll||$[y]("refresh"),$.each(t,function(t,i){var n,r,o;return o=[],r=i.newScroll>i.oldScroll,n=r?i.forward:i.backward,$.each(e.waypoints[t],function(t,e){var n,r;return i.oldScroll<(n=e.offset)&&n<=i.newScroll?o.push(e):i.newScroll<(r=e.offset)&&r<=i.oldScroll?o.push(e):void 0}),o.sort(function(t,e){return t.offset-e.offset}),r||o.reverse(),$.each(o,function(t,e){return e.options.continuous||t===o.length-1?e.trigger([n]):void 0})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,i,n=this;return i=$.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:i?0:e.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:e.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?$[y]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},$.each(t,function(t,e){return $.each(n.waypoints[t],function(t,i){var n,r,o,s,a;return n=i.options.offset,o=i.offset,r=$.isWindow(i.element)?0:i.$element.offset()[e.offsetProp],$.isFunction(n)?n=n.apply(i.element):"string"==typeof n&&(n=parseFloat(n),i.options.offset.indexOf("%")>-1&&(n=Math.ceil(e.contextDimension*n/100))),i.offset=r-e.contextOffset+e.contextScroll-n,i.options.onlyOnScroll&&null!=o||!i.enabled?void 0:null!==o&&o<(s=e.oldScroll)&&s<=i.offset?i.trigger([e.backward]):null!==o&&o>(a=e.oldScroll)&&a>=i.offset?i.trigger([e.forward]):null===o&&e.oldScroll>=i.offset?i.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){return $.isEmptyObject(this.waypoints.horizontal)&&$.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([d,f].join(" ")),delete u[this.id]):void 0},t}(),o=function(){function t(t,e,i){var n,r;i=$.extend({},$.fn[v].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var t;return t=$[y]("viewportHeight"),$.isWindow(e.element)||(t=e.$element.height()),t-$(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=e,this.enabled=i.enabled,this.id="waypoints"+m++,this.offset=null,this.options=i,e.waypoints[this.axis][this.id]=this,s[this.axis][this.id]=this,n=null!=(r=this.element[g])?r:[],n.push(this.id),this.element[g]=n}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete s[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,i;return(i=t[g])?(e=$.extend({},s.horizontal,s.vertical),$.map(i,function(t){return e[t]})):[]},t}(),p={init:function(t,e){var i;return null==e&&(e={}),null==(i=e.handler)&&(e.handler=t),this.each(function(){var t,i,n,s;return t=$(this),n=null!=(s=e.context)?s:$.fn[v].defaults.context,$.isWindow(n)||(n=t.closest(n)),n=$(n),i=u[n[0][l]],i||(i=new r(n)),new o(t,i,e)}),$[y]("refresh"),this},disable:function(){return p._invoke.call(this,"disable")},enable:function(){return p._invoke.call(this,"enable")},destroy:function(){return p._invoke.call(this,"destroy")},prev:function(t,e){return p._traverse.call(this,t,e,function(t,e,i){return e>0?t.push(i[e-1]):void 0})},next:function(t,e){return p._traverse.call(this,t,e,function(t,e,i){return e<i.length-1?t.push(i[e+1]):void 0})},_traverse:function(t,e,n){var r,o;return null==t&&(t="vertical"),null==e&&(e=i),o=c.aggregate(e),r=[],this.each(function(){var e;return e=$.inArray(this,o[t]),n(r,e,o[t])}),this.pushStack(r)},_invoke:function(t){return this.each(function(){var e;return e=o.getWaypointsByElement(this),$.each(e,function(e,i){return i[t](),!0})}),this}},$.fn[v]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],p[i]?p[i].apply(this,t):$.isFunction(i)?p.init.apply(this,arguments):$.isPlainObject(i)?p.init.apply(this,[null,i]):$.error(i?"The "+i+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},$.fn[v].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},c={refresh:function(){return $.each(u,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=i.innerHeight)?t:n.height()},aggregate:function(t){var e,i,n;return e=s,t&&(e=null!=(n=u[$(t)[0][l]])?n.waypoints:void 0),e?(i={horizontal:[],vertical:[]},$.each(i,function(t,n){return $.each(e[t],function(t,e){return n.push(e)}),n.sort(function(t,e){return t.offset-e.offset}),i[t]=$.map(n,function(t){return t.element}),i[t]=$.unique(i[t])}),i):[]},above:function(t){return null==t&&(t=i),c._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=i),c._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=i),c._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=i),c._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return c._invoke("enable")},disable:function(){return c._invoke("disable")},destroy:function(){return c._invoke("destroy")},extendFn:function(t,e){return p[t]=e},_invoke:function(t){var e;return e=$.extend({},s.vertical,s.horizontal),$.each(e,function(e,i){return i[t](),!0})},_filter:function(t,e,i){var n,r;return(n=u[$(t)[0][l]])?(r=[],$.each(n.waypoints[e],function(t,e){return i(n,e)?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),$.map(r,function(t){return t.element})):[]}},$[y]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],c[i]?c[i].apply(null,t):c.aggregate.call(null,i)},$[y].settings={resizeThrottle:100,scrollThrottle:30},n.load(function(){return $[y]("refresh")})})}.call(this),$(function(){function t(){if(n){r=!0;var t=0,o=$("#load-posts-area").children().length,a=function(){t++;var l=o+t;return l>n.length-1?void i():void(s>t?e(l,a):r=!1)};e(o+t,a)}}function e(t,e){var i=n[t];$.get(i,function(t){$(t).find(".post").appendTo("#load-posts-area").fadeIn();var i=0;$(".post").each(function(){i=$(this).height()>i?$(this).height():i}),$(".post").css({display:"block"}),$(".post").css({height:"275px"}),e()})}function i(){o=!1,r=!1,$(".infinite-spinner").fadeOut(),$("#load-posts").fadeOut(),$("#goto-posts").fadeIn()}var n,r=!1,o=!0,s=6,a=18;$.getJSON("/all-posts.json",function(t){n=t.posts,n.length<=s&&i()}),$("#load-posts").click(function(){t()});var l=0;$(".post").each(function(){l=$(this).height()>l?$(this).height():l}),$(".post").css({height:l+20})}),$(document).ready(function(){$(function(){var t;$.getJSON("/film-roles.json",function(t){var e=t.entries,i=e[Math.floor(Math.random()*e.length)];i.current=5;var n="<h1>Film Role•a•dex</h1>";n+="<article>",n+="<h1 class=film-credits-title>"+i.Credit+"</h1>",n+='<h2 class="film-credits-description">'+i.Definition+"</h2>",n+='<div class="film-credits-nav clearfix">',n+='<a role="button" href="'+i.Link+'">See example</a>',n+="</div>",n+="</article>",$("#film-credits").append(n)})})}),function(t,e,n,r){function o(e,i){this.element=e,this.options=t.extend({},u,i),this._defaults=u,this._name=l,this.init()}function s(){return!!("ontouchstart"in e)}function a(){var t=n.body||n.documentElement,e=t.style,i="transition";if("string"==typeof e[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<v.length;r++)if("string"==typeof e[v[r]+i])return!0;return!1}var l="tooltipster",u={animation:"fade",arrow:!0,arrowColor:"",content:"",delay:200,fixedWidth:0,maxWidth:0,functionBefore:function(t,e){e()},functionReady:function(t,e){},functionAfter:function(t){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!0,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},h=!0;a()||(h=!1);var c=s();t(e).on("mousemove.tooltipster",function(){c=!1,t(e).off("mousemove.tooltipster")}),o.prototype={init:function(){var e=t(this.element),i=this,o=!0;if(0==i.options.touchDevices&&c&&(o=!1),n.all&&!n.querySelector&&(o=!1),1==o){if(1==this.options.iconDesktop&&!c||1==this.options.iconTouch&&c){var s=e.attr("title");e.removeAttr("title");var a=i.options.iconTheme,l=t('<span class="'+a.replace(".","")+'" title="'+s+'">'+this.options.icon+"</span>");l.insertAfter(e),e.data("tooltipsterIcon",l),e=l}var u=t.trim(i.options.content).length>0?i.options.content:e.attr("title");e.data("tooltipsterContent",u),e.removeAttr("title"),1!=this.options.touchDevices||!c||"click"!=this.options.trigger&&"hover"!=this.options.trigger?("hover"==this.options.trigger&&(e.on("mouseenter.tooltipster",function(){i.showTooltip()}),1==this.options.interactive?e.on("mouseleave.tooltipster",function(){var t=e.data("tooltipster"),n=!1;if(t!==r&&""!==t){t.mouseenter(function(){n=!0}),t.mouseleave(function(){n=!1});var o=setTimeout(function(){1==n&&t.mouseleave(function(){})},i.options.interactiveTolerance)}}):e.on("mouseleave.tooltipster",function(){})),"click"==this.options.trigger&&e.on("click.tooltipster",function(){""==e.data("tooltipster")||e.data("tooltipster")==r?i.showTooltip():i.hideTooltip()})):e.bind("touchstart",function(t,e){i.showTooltip()})}},showTooltip:function(e){var i=t(this.element),n=this;i.data("tooltipsterIcon")!==r&&(i=i.data("tooltipsterIcon")),i.hasClass("tooltipster-disable")||(t(".tooltipster-base").not(".tooltipster-dying").length>0&&1==n.options.onlyOne&&t(".tooltipster-base").not(".tooltipster-dying").not(i.data("tooltipster")).each(function(){t(this).addClass("tooltipster-kill");var e=t(this).data("origin");e.data("plugin_tooltipster").hideTooltip()}),i.clearQueue().delay(n.options.delay).queue(function(){n.options.functionBefore(i,function(){if(i.data("tooltipster")!==r&&""!==i.data("tooltipster")){var e=i.data("tooltipster");if(!e.hasClass("tooltipster-kill")){var o="tooltipster-"+n.options.animation;if(e.removeClass("tooltipster-dying"),1==h&&e.clearQueue().addClass(o+"-show"),n.options.timer>0){var s=e.data("tooltipsterTimer");clearTimeout(s),s=setTimeout(function(){e.data("tooltipsterTimer",r),n.hideTooltip()},n.options.timer),e.data("tooltipsterTimer",s)}1==n.options.touchDevices&&c&&t("body").bind("touchstart",function(e){if(1==n.options.interactive){var i=t(e.target),r=!0;i.parents().each(function(){t(this).hasClass("tooltipster-base")&&(r=!1)}),1==r&&(n.hideTooltip(),t("body").unbind("touchstart"))}else n.hideTooltip(),t("body").unbind("touchstart")})}}else{t("body").css("overflow-x","hidden");var l=i.data("tooltipsterContent"),u=n.options.theme,p=u.replace(".",""),o="tooltipster-"+n.options.animation,d="-webkit-transition-duration: "+n.options.speed+"ms; -webkit-animation-duration: "+n.options.speed+"ms; -moz-transition-duration: "+n.options.speed+"ms; -moz-animation-duration: "+n.options.speed+"ms; -o-transition-duration: "+n.options.speed+"ms; -o-animation-duration: "+n.options.speed+"ms; -ms-transition-duration: "+n.options.speed+"ms; -ms-animation-duration: "+n.options.speed+"ms; transition-duration: "+n.options.speed+"ms; animation-duration: "+n.options.speed+"ms;",f=n.options.fixedWidth>0?"width:"+n.options.fixedWidth+"px;":"",m=n.options.maxWidth>0?"max-width:"+n.options.maxWidth+"px;":"",g=1==n.options.interactive?"pointer-events: auto;":"",e=t('<div class="tooltipster-base '+p+" "+o+'" style="'+f+" "+m+" "+g+" "+d+'"></div>'),v=t('<div class="tooltipster-content"></div>');
v.html(l),e.append(v),e.appendTo("body"),i.data("tooltipster",e),e.data("origin",i),n.positionTooltip(),n.options.functionReady(i,e),1==h?e.addClass(o+"-show"):e.css("display","none").removeClass(o).fadeIn(n.options.speed);var y=l,b=setInterval(function(){var r=i.data("tooltipsterContent");0==t("body").find(i).length?(e.addClass("tooltipster-dying"),n.hideTooltip()):y!==r&&""!==r&&(y=r,e.find(".tooltipster-content").html(r),1==n.options.updateAnimation&&(a()?(e.css({width:"","-webkit-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){e.removeClass("tooltipster-content-changing"),setTimeout(function(){e.css({"-webkit-transition":n.options.speed+"ms","-moz-transition":n.options.speed+"ms","-o-transition":n.options.speed+"ms","-ms-transition":n.options.speed+"ms",transition:n.options.speed+"ms"})},n.options.speed)},n.options.speed)):e.fadeTo(n.options.speed,.5,function(){e.fadeTo(n.options.speed,1)})),n.positionTooltip()),(0==t("body").find(e).length||0==t("body").find(i).length)&&clearInterval(b)},200);if(n.options.timer>0){var s=setTimeout(function(){e.data("tooltipsterTimer",r),n.hideTooltip()},n.options.timer+n.options.speed);e.data("tooltipsterTimer",s)}1==n.options.touchDevices&&c&&t("body").bind("touchstart",function(e){if(1==n.options.interactive){var i=t(e.target),r=!0;i.parents().each(function(){t(this).hasClass("tooltipster-base")&&(r=!1)}),1==r&&(n.hideTooltip(),t("body").unbind("touchstart"))}else n.hideTooltip(),t("body").unbind("touchstart")}),e.mouseleave(function(){})}}),i.dequeue()}))},hideTooltip:function(e){var i=t(this.element),n=this;i.data("tooltipsterIcon")!==r&&(i=i.data("tooltipsterIcon"));var o=i.data("tooltipster");if(o==r&&(o=t(".tooltipster-dying")),i.clearQueue(),o!==r&&""!==o){var s=o.data("tooltipsterTimer");s!==r&&clearTimeout(s);var a="tooltipster-"+n.options.animation;1==h?o.clearQueue().removeClass(a+"-show").addClass("tooltipster-dying").delay(n.options.speed).queue(function(){o.remove(),i.data("tooltipster",""),t("body").css("verflow-x",""),n.options.functionAfter(i)}):o.clearQueue().addClass("tooltipster-dying").fadeOut(n.options.speed,function(){o.remove(),i.data("tooltipster",""),t("body").css("verflow-x",""),n.options.functionAfter(i)})}},positionTooltip:function(n){function o(){var i=t(e).scrollLeft();if(0>H-i){var n=H-i;H=i,u.data("arrow-reposition",n)}if(H+d-i>h){var n=H-(h+i-d);H=h+i-d,u.data("arrow-reposition",n)}}function s(i,n){v-t(e).scrollTop()-m-j-12<0&&n.indexOf("top")>-1&&(l.options.position=i,b=n),v+p+m+12+j>t(e).scrollTop()+t(e).height()&&n.indexOf("bottom")>-1&&(l.options.position=i,b=n,U=v-m-j-12)}var a=t(this.element),l=this;if(a.data("tooltipsterIcon")!==r&&(a=a.data("tooltipsterIcon")),a.data("tooltipster")!==r&&""!==a.data("tooltipster")){var u=a.data("tooltipster");u.css("width","");var h=t(e).width(),c=a.outerWidth(!1),p=a.outerHeight(!1),d=u.outerWidth(!1),f=u.innerWidth()+1,m=u.outerHeight(!1),g=a.offset(),v=g.top,y=g.left,b=r;if(a.is("area")){var _=a.attr("shape"),w=a.parent().attr("name"),x=t('img[usemap="#'+w+'"]'),S=x.offset().left,k=x.offset().top,T=a.attr("coords")!==r?a.attr("coords").split(","):r;if("circle"==_){var z=parseInt(T[0]),C=parseInt(T[1]),A=parseInt(T[2]);p=2*A,c=2*A,v=k+C-A,y=S+z-A}else if("rect"==_){var z=parseInt(T[0]),C=parseInt(T[1]),O=parseInt(T[2]),E=parseInt(T[3]);p=E-C,c=O-z,v=k+C,y=S+z}else if("poly"==_){var F=[],P=[],I=0,q=0,L=0,Q=0,R="even";for(i=0;i<T.length;i++){var M=parseInt(T[i]);"even"==R?(M>L&&(L=M,0==i&&(I=L)),I>M&&(I=M),R="odd"):(M>Q&&(Q=M,1==i&&(q=Q)),q>M&&(q=M),R="even")}p=Q-q,c=L-I,v=k+q,y=S+I}else p=x.outerHeight(!1),c=x.outerWidth(!1),v=k,y=S}0==l.options.fixedWidth&&u.css({width:f+"px","padding-left":"0px","padding-right":"0px"});var H=0,U=0,j=parseInt(l.options.offsetY),D=parseInt(l.options.offsetX),N="";if("top"==l.options.position){var W=y+d-(y+c);H=y+D-W/2,U=v-m-j-12,o(),s("bottom","top")}if("top-left"==l.options.position&&(H=y+D,U=v-m-j-12,o(),s("bottom-left","top-left")),"top-right"==l.options.position&&(H=y+c+D-d,U=v-m-j-12,o(),s("bottom-right","top-right")),"bottom"==l.options.position){var W=y+d-(y+c);H=y-W/2+D,U=v+p+j+12,o(),s("top","bottom")}if("bottom-left"==l.options.position&&(H=y+D,U=v+p+j+12,o(),s("top-left","bottom-left")),"bottom-right"==l.options.position&&(H=y+c+D-d,U=v+p+j+12,o(),s("top-right","bottom-right")),"left"==l.options.position){H=y-D-d-12,myLeftMirror=y+D+c+12;var B=v+m-(v+a.outerHeight(!1));if(U=v-B/2-j,0>H&&myLeftMirror+d>h){var V=2*parseFloat(u.css("border-width")),J=d+H-V;u.css("width",J+"px"),m=u.outerHeight(!1),H=y-D-J-12-V,B=v+m-(v+a.outerHeight(!1)),U=v-B/2-j}else 0>H&&(H=y+D+c+12,u.data("arrow-reposition","left"))}if("right"==l.options.position){H=y+D+c+12,myLeftMirror=y-D-d-12;var B=v+m-(v+a.outerHeight(!1));if(U=v-B/2-j,H+d>h&&myLeftMirror<0){var V=2*parseFloat(u.css("border-width")),J=h-H-V;u.css("width",J+"px"),m=u.outerHeight(!1),B=v+m-(v+a.outerHeight(!1)),U=v-B/2-j}else H+d>h&&(H=y-D-d-12,u.data("arrow-reposition","right"))}if(1==l.options.arrow){var Z="tooltipster-arrow-"+l.options.position;if(l.options.arrowColor.length<1)var K=u.css("background-color");else var K=l.options.arrowColor;var G=u.data("arrow-reposition");if(G?"left"==G?(Z="tooltipster-arrow-right",G=""):"right"==G?(Z="tooltipster-arrow-left",G=""):G="left:"+G+"px;":G="","top"==l.options.position||"top-left"==l.options.position||"top-right"==l.options.position)var Y=parseFloat(u.css("border-bottom-width")),X=u.css("border-bottom-color");else if("bottom"==l.options.position||"bottom-left"==l.options.position||"bottom-right"==l.options.position)var Y=parseFloat(u.css("border-top-width")),X=u.css("border-top-color");else if("left"==l.options.position)var Y=parseFloat(u.css("border-right-width")),X=u.css("border-right-color");else if("right"==l.options.position)var Y=parseFloat(u.css("border-left-width")),X=u.css("border-left-color");else var Y=parseFloat(u.css("border-bottom-width")),X=u.css("border-bottom-color");Y>1&&Y++;var te="";if(0!==Y){var ee="",ie="border-color: "+X+";";-1!==Z.indexOf("bottom")?ee="margin-top: -"+Y+"px;":-1!==Z.indexOf("top")?ee="margin-bottom: -"+Y+"px;":-1!==Z.indexOf("left")?ee="margin-right: -"+Y+"px;":-1!==Z.indexOf("right")&&(ee="margin-left: -"+Y+"px;"),te='<span class="tooltipster-arrow-border" style="'+ee+" "+ie+';"></span>'}u.find(".tooltipster-arrow").remove(),N='<div class="'+Z+' tooltipster-arrow" style="'+G+'">'+te+'<span style="border-color:'+K+';"></span></div>',u.append(N)}u.css({top:U+"px",left:H+"px"}),b!==r&&(l.options.position=b)}}},t.fn[l]=function(e){if("string"==typeof e){var i=this,n=arguments[1];if(i.data("plugin_tooltipster")==r){var s=i.find("*");i=t(),s.each(function(){t(this).data("plugin_tooltipster")!==r&&i.push(t(this))})}return i.each(function(){switch(e.toLowerCase()){case"show":t(this).data("plugin_tooltipster").showTooltip();break;case"hide":t(this).data("plugin_tooltipster").hideTooltip();break;case"disable":t(this).addClass("tooltipster-disable");break;case"enable":t(this).removeClass("tooltipster-disable");break;case"destroy":t(this).data("plugin_tooltipster").hideTooltip(),t(this).data("plugin_tooltipster","").attr("title",i.data("tooltipsterContent")).data("tooltipsterContent","").data("plugin_tooltipster","").off("mouseenter.tooltipster mouseleave.tooltipster click.tooltipster");break;case"update":if(t(this).data("tooltipsterIcon")==r)t(this).data("tooltipsterContent",n);else{var o=t(this).data("tooltipsterIcon");o.data("tooltipsterContent",n)}break;case"reposition":t(this).data("plugin_tooltipster").positionTooltip()}}),this}return this.each(function(){t.data(this,"plugin_"+l)||t.data(this,"plugin_"+l,new o(this,e));var i=t(this).data("plugin_tooltipster").options;if(1==i.iconDesktop&&!c||1==i.iconTouch&&c){var n=t(this).data("plugin_tooltipster");t(this).next().data("plugin_tooltipster",n)}})},c&&e.addEventListener("orientationchange",function(){t(".tooltipster-base").length>0&&t(".tooltipster-base").each(function(){var e=t(this).data("origin");e.data("plugin_tooltipster").hideTooltip()})},!1),t(e).on("resize.tooltipster",function(){var e=t(".tooltipster-base").data("origin");null!==e&&e!==r&&e.tooltipster("reposition")})}(jQuery,window,document),function($){$.fn.contentshare=function(t){var e=$.extend({},$.fn.contentshare.defaults,t);$.extend($.fn.contentshare,{init:function(t){$.fn.contentshare.defaults.shareable=t},getContent:function(){for(var t="",i=0;i<e.shareLinks.length;i++)t+='<a href="'+e.shareLinks[i].replace("{{text}}",this.getSelection())+'" '+(e.newTab?'target="_blank"':"")+'><i class="fa '+e.shareIcons[i]+'" '+(0!=i?'style="margin-left:5px"':"")+"></i></a>";return t},getSelection:function(t){return window.getSelection?"string"==t?encodeURIComponent($.trim(window.getSelection().getRangeAt(0).toString())):window.getSelection().getRangeAt(0):document.selection?"string"==t?encodeURIComponent($.trim(document.selection.createRange().text)):document.selection.createRange():void 0},showTooltip:function(){if(this.clear(),!(this.getSelection("string").length<e.minLength)){var t=this.getContent();this.preloadShareIcons(e.shareIcons);var i=this.getSelection(),n=document.createElement("span");$(n).addClass("mark"),i.surroundContents(n),$("span.mark").addClass(e.className),$("."+e.className).tooltipster({trigger:"custom",interactive:!0,content:t,animation:e.animation}),$("."+e.className).tooltipster("show")}},preloadShareIcons:function(t){for(var e=0;e<t.length;e++){var i=new Image;i.src=t[e]}},clear:function(){$("."+e.className).tooltipster("hide"),$("span.mark").contents().unwrap(),$("span.mark").remove()}}),$.fn.contentshare.init(this)},$.fn.contentshare.defaults={shareable:{},shareIcons:["images/fb.png","images/tw.png"],shareLinks:["http://www.facebook.com/sharer.php?s=100&p[url]="+document.URL+"&p[title]="+document.title+"&p[summary]={{text}}","http://twitter.com/intent/tweet?text={{text}}"],minLength:1,newTab:!0,className:"contentshare",animation:"grow"}}(jQuery),!function($,t,e,i){function n(t,e){this.element=t,this.options=$.extend({},o,e),this._defaults=o,this._name=r,this.init()}var r="stellar",o={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},s={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,e){t.scrollLeft(e)},getTop:function(t){return t.scrollTop()},setTop:function(t,e){t.scrollTop(e)}},position:{getLeft:function(t){return-1*parseInt(t.css("left"),10)},getTop:function(t){return-1*parseInt(t.css("top"),10)}},margin:{getLeft:function(t){return-1*parseInt(t.css("margin-left"),10)},getTop:function(t){return-1*parseInt(t.css("margin-top"),10)}},transform:{getLeft:function(t){var e=getComputedStyle(t[0])[u];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(t){var e=getComputedStyle(t[0])[u];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[5],10):0}}},a={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,i,n,r){t[0].style[u]="translate3d("+(e-i)+"px, "+(n-r)+"px, 0)"}}},l=function(){var t=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,e=$("script")[0].style,i="",n;for(n in e)if(t.test(n)){i=n.match(t)[0];break}return"WebkitOpacity"in e&&(i="Webkit"),"KhtmlOpacity"in e&&(i="Khtml"),function(t){return i+(i.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}(),u=l("transform"),h=$("<div />",{style:"background:#fff"}).css("background-position-x")!==i,c=h?function(t,e,i){t.css({"background-position-x":e,"background-position-y":i})}:function(t,e,i){t.css("background-position",e+" "+i)},p=h?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},d=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};n.prototype={init:function(){this.options.name=r+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===e.body&&(this.element=t),this.$scrollElement=$(this.element),this.$element=this.element===t?$("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==i?$(this.options.viewportElement):this.$scrollElement[0]===t||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,e=s[t.options.scrollProperty];this._getScrollLeft=function(){return e.getLeft(t.$scrollElement)},this._getScrollTop=function(){return e.getTop(t.$scrollElement)}},_defineSetters:function(){var t=this,e=s[t.options.scrollProperty],i=a[t.options.positionProperty],n=e.setLeft,r=e.setTop;this._setScrollLeft="function"==typeof n?function(e){n(t.$scrollElement,e)}:$.noop,this._setScrollTop="function"==typeof r?function(e){r(t.$scrollElement,e)}:$.noop,this._setPosition=i.setPosition||function(e,n,r,o,s){t.options.horizontalScrolling&&i.setLeft(e,n,r),t.options.verticalScrolling&&i.setTop(e,o,s)}},_handleWindowLoadAndResize:function(){var e=this,i=$(t);e.options.responsive&&i.bind("load."+this.name,function(){e.refresh()}),i.bind("resize."+this.name,function(){e._detectViewport(),e.options.responsive&&e.refresh()})},refresh:function(e){var i=this,n=i._getScrollLeft(),r=i._getScrollTop();e&&e.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),e&&e.firstLoad&&/WebKit/.test(navigator.userAgent)&&$(t).load(function(){var t=i._getScrollLeft(),e=i._getScrollTop();i._setScrollLeft(t+1),i._setScrollTop(e+1),i._setScrollLeft(t),i._setScrollTop(e)}),this._setScrollLeft(n),this._setScrollTop(r)},_detectViewport:function(){var t=this.$viewportElement.offset(),e=null!==t&&t!==i;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=e?t.top:0,this.viewportOffsetLeft=e?t.left:0},_findParticles:function(){var t=this,e=this._getScrollLeft(),n=this._getScrollTop();if(this.particles!==i)for(var r=this.particles.length-1;r>=0;r--)this.particles[r].$element.data("stellar-elementIsActive",i);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(e){var n=$(this),r,o,s,a,l,u,h,c,p,d=0,f=0,m=0,g=0;if(n.data("stellar-elementIsActive")){if(n.data("stellar-elementIsActive")!==this)return}else n.data("stellar-elementIsActive",this);t.options.showElement(n),n.data("stellar-startingLeft")?(n.css("left",n.data("stellar-startingLeft")),n.css("top",n.data("stellar-startingTop"))):(n.data("stellar-startingLeft",n.css("left")),n.data("stellar-startingTop",n.css("top"))),s=n.position().left,a=n.position().top,l="auto"===n.css("margin-left")?0:parseInt(n.css("margin-left"),10),u="auto"===n.css("margin-top")?0:parseInt(n.css("margin-top"),10),c=n.offset().left-l,p=n.offset().top-u,n.parents().each(function(){var t=$(this);return t.data("stellar-offset-parent")===!0?(d=m,f=g,h=t,!1):(m+=t.position().left,void(g+=t.position().top))}),r=n.data("stellar-horizontal-offset")!==i?n.data("stellar-horizontal-offset"):h!==i&&h.data("stellar-horizontal-offset")!==i?h.data("stellar-horizontal-offset"):t.horizontalOffset,o=n.data("stellar-vertical-offset")!==i?n.data("stellar-vertical-offset"):h!==i&&h.data("stellar-vertical-offset")!==i?h.data("stellar-vertical-offset"):t.verticalOffset,t.particles.push({$element:n,$offsetParent:h,isFixed:"fixed"===n.css("position"),horizontalOffset:r,verticalOffset:o,startingPositionLeft:s,startingPositionTop:a,startingOffsetLeft:c,startingOffsetTop:p,parentOffsetLeft:d,parentOffsetTop:f,stellarRatio:n.data("stellar-ratio")!==i?n.data("stellar-ratio"):1,width:n.outerWidth(!0),height:n.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var t=this,e=this._getScrollLeft(),n=this._getScrollTop(),r;this.backgrounds=[],this.options.parallaxBackgrounds&&(r=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(r=r.add(this.$element)),r.each(function(){var r=$(this),o=p(r),s,a,l,u,h,d,f,m,g,v=0,y=0,b=0,_=0;if(r.data("stellar-backgroundIsActive")){if(r.data("stellar-backgroundIsActive")!==this)return}else r.data("stellar-backgroundIsActive",this);r.data("stellar-backgroundStartingLeft")?c(r,r.data("stellar-backgroundStartingLeft"),r.data("stellar-backgroundStartingTop")):(r.data("stellar-backgroundStartingLeft",o[0]),r.data("stellar-backgroundStartingTop",o[1])),h="auto"===r.css("margin-left")?0:parseInt(r.css("margin-left"),10),d="auto"===r.css("margin-top")?0:parseInt(r.css("margin-top"),10),f=r.offset().left-h-e,m=r.offset().top-d-n,r.parents().each(function(){var t=$(this);return t.data("stellar-offset-parent")===!0?(v=b,y=_,g=t,!1):(b+=t.position().left,void(_+=t.position().top))}),s=r.data("stellar-horizontal-offset")!==i?r.data("stellar-horizontal-offset"):g!==i&&g.data("stellar-horizontal-offset")!==i?g.data("stellar-horizontal-offset"):t.horizontalOffset,a=r.data("stellar-vertical-offset")!==i?r.data("stellar-vertical-offset"):g!==i&&g.data("stellar-vertical-offset")!==i?g.data("stellar-vertical-offset"):t.verticalOffset,t.backgrounds.push({$element:r,$offsetParent:g,isFixed:"fixed"===r.css("background-attachment"),horizontalOffset:s,verticalOffset:a,startingValueLeft:o[0],startingValueTop:o[1],startingBackgroundPositionLeft:isNaN(parseInt(o[0],10))?0:parseInt(o[0],10),startingBackgroundPositionLeftUnit:"0%"===o[0]?"px":o[0].substr((parseInt(o[0],10)+"").length),startingBackgroundPositionTop:isNaN(parseInt(o[1],10))?0:parseInt(o[1],10),startingBackgroundPositionTopUnit:"0%"===o[1]?"px":o[1].substr((parseInt(o[1],10)+"").length),startingPositionLeft:r.position().left,startingPositionTop:r.position().top,startingOffsetLeft:f,startingOffsetTop:m,parentOffsetLeft:v,parentOffsetTop:y,stellarRatio:r.data("stellar-background-ratio")===i?1:r.data("stellar-background-ratio")})}))},_reset:function(){var t,e,i,n,r;for(r=this.particles.length-1;r>=0;r--)t=this.particles[r],e=t.$element.data("stellar-startingLeft"),i=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,e,e,i,i),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(r=this.backgrounds.length-1;r>=0;r--)n=this.backgrounds[r],n.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),c(n.$element,n.startingValueLeft,n.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=$.noop,$(t).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var e=this,i=$(t);i.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),i.bind("resize.horizontal-"+this.name,function(){e.horizontalOffset=e.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),i.bind("resize.vertical-"+this.name,function(){e.verticalOffset=e.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t=this._getScrollLeft(),e=this._getScrollTop(),i,n,r,o,s,a,l,u=!0,h=!0,p,d,f,m,g;if(this.currentScrollLeft!==t||this.currentScrollTop!==e||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=t,this.currentScrollTop=e,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,g=this.particles.length-1;g>=0;g--)r=this.particles[g],o=r.isFixed?1:0,this.options.horizontalScrolling?(p=(t+r.horizontalOffset+this.viewportOffsetLeft+r.startingPositionLeft-r.startingOffsetLeft+r.parentOffsetLeft)*-(r.stellarRatio+o-1)+r.startingPositionLeft,f=p-r.startingPositionLeft+r.startingOffsetLeft):(p=r.startingPositionLeft,f=r.startingOffsetLeft),this.options.verticalScrolling?(d=(e+r.verticalOffset+this.viewportOffsetTop+r.startingPositionTop-r.startingOffsetTop+r.parentOffsetTop)*-(r.stellarRatio+o-1)+r.startingPositionTop,m=d-r.startingPositionTop+r.startingOffsetTop):(d=r.startingPositionTop,m=r.startingOffsetTop),this.options.hideDistantElements&&(h=!this.options.horizontalScrolling||f+r.width>(r.isFixed?0:t)&&f<(r.isFixed?0:t)+this.viewportWidth+this.viewportOffsetLeft,u=!this.options.verticalScrolling||m+r.height>(r.isFixed?0:e)&&m<(r.isFixed?0:e)+this.viewportHeight+this.viewportOffsetTop),h&&u?(r.isHidden&&(this.options.showElement(r.$element),r.isHidden=!1),this._setPosition(r.$element,p,r.startingPositionLeft,d,r.startingPositionTop)):r.isHidden||(this.options.hideElement(r.$element),r.isHidden=!0);for(g=this.backgrounds.length-1;g>=0;g--){s=this.backgrounds[g],o=s.isFixed?0:1;var v="%"===s.startingBackgroundPositionLeftUnit;a=this.options.horizontalScrolling?((t+s.horizontalOffset-this.viewportOffsetLeft-s.startingOffsetLeft+s.parentOffsetLeft-s.startingBackgroundPositionLeft*(v?0:1))*(v?100/parseInt(s.$element.css("width"),10):1)*(o-s.stellarRatio)-s.startingBackgroundPositionLeft*(v?1:0))*(v?-1:1)+s.startingBackgroundPositionLeftUnit:s.startingValueLeft;var y="%"===s.startingBackgroundPositionTopUnit;l=this.options.verticalScrolling?((e+s.verticalOffset-this.viewportOffsetTop-s.startingOffsetTop+s.parentOffsetTop-s.startingBackgroundPositionTop*(y?0:1))*(y?100/parseInt(s.$element.css("height"),10):1)*(o-s.stellarRatio)-s.startingBackgroundPositionTop*(y?1:0))*(y?-1:1)+s.startingBackgroundPositionTopUnit:s.startingValueTop,c(s.$element,a,l)}}},_handleScrollEvent:function(){var t=this,e=!1,i=function(){t._repositionElements(),e=!1},n=function(){e||(d(i),e=!0)};this.$scrollElement.bind("scroll."+this.name,n),n()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){d(t._animationLoop),t._repositionElements()},this._animationLoop()}},$.fn[r]=function(t){var e=arguments;return t===i||"object"==typeof t?this.each(function(){$.data(this,"plugin_"+r)||$.data(this,"plugin_"+r,new n(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var i=$.data(this,"plugin_"+r);i instanceof n&&"function"==typeof i[t]&&i[t].apply(i,Array.prototype.slice.call(e,1)),"destroy"===t&&$.data(this,"plugin_"+r,null)}):void 0},$[r]=function(e){var i=$(t);return i.stellar.apply(i,Array.prototype.slice.call(arguments,0))},$[r].scrollProperty=s,$[r].positionProperty=a,t.Stellar=n}(jQuery,this,document);/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 0.4.5
 * Copyright (C) 2014 Oliver Nightingale
 * MIT Licensed
 * @license
 */
var lunr=function(t){var e=new lunr.Index;return e.pipeline.add(lunr.stopWordFilter,lunr.stemmer),t&&t.call(e,e),e};lunr.version="0.4.5","undefined"!=typeof module&&(module.exports=lunr),lunr.utils={},lunr.utils.warn=function(t){return function(e){t.console&&console.warn&&console.warn(e)}}(this),lunr.utils.zeroFillArray=function(){var t=[0];return function(e){for(;t.length<e;)t=t.concat(t);return t.slice(0,e)}}(),lunr.EventEmitter=function(){this.events={}},lunr.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),i=t;if("function"!=typeof e)throw new TypeError("last argument must be a function");i.forEach(function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(e)},this)},lunr.EventEmitter.prototype.removeListener=function(t,e){if(this.hasHandler(t)){var i=this.events[t].indexOf(e);this.events[t].splice(i,1),this.events[t].length||delete this.events[t]}},lunr.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var e=Array.prototype.slice.call(arguments,1);this.events[t].forEach(function(t){t.apply(void 0,e)})}},lunr.EventEmitter.prototype.hasHandler=function(t){return t in this.events},lunr.tokenizer=function(t){if(!arguments.length||null==t||void 0==t)return[];if(Array.isArray(t))return t.map(function(t){return t.toLowerCase()});for(var e=t.toString().replace(/^\s+/,""),i=e.length-1;i>=0;i--)if(/\S/.test(e.charAt(i))){e=e.substring(0,i+1);break}return e.split(/\s+/).map(function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"").toLowerCase()})},lunr.Pipeline=function(){this._stack=[]},lunr.Pipeline.registeredFunctions={},lunr.Pipeline.registerFunction=function(t,e){e in this.registeredFunctions&&lunr.utils.warn("Overwriting existing registered function: "+e),t.label=e,lunr.Pipeline.registeredFunctions[t.label]=t},lunr.Pipeline.warnIfFunctionNotRegistered=function(t){var e=t.label&&t.label in this.registeredFunctions;e||lunr.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},lunr.Pipeline.load=function(t){var e=new lunr.Pipeline;return t.forEach(function(t){var i=lunr.Pipeline.registeredFunctions[t];if(!i)throw new Error("Cannot load un-registered function: "+t);e.add(i)}),e},lunr.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(t){lunr.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},lunr.Pipeline.prototype.after=function(t,e){lunr.Pipeline.warnIfFunctionNotRegistered(e);var i=this._stack.indexOf(t)+1;this._stack.splice(i,0,e)},lunr.Pipeline.prototype.before=function(t,e){lunr.Pipeline.warnIfFunctionNotRegistered(e);var i=this._stack.indexOf(t);this._stack.splice(i,0,e)},lunr.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);this._stack.splice(e,1)},lunr.Pipeline.prototype.run=function(t){for(var e=[],i=t.length,n=this._stack.length,r=0;i>r;r++){for(var o=t[r],s=0;n>s&&(o=this._stack[s](o,r,t),void 0!==o);s++);void 0!==o&&e.push(o)}return e},lunr.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return lunr.Pipeline.warnIfFunctionNotRegistered(t),t.label})},lunr.Vector=function(t){this.elements=t},lunr.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t=0,e=this.elements,i=e.length,n,r=0;i>r;r++)n=e[r],t+=n*n;return this._magnitude=Math.sqrt(t)},lunr.Vector.prototype.dot=function(t){for(var e=this.elements,i=t.elements,n=e.length,r=0,o=0;n>o;o++)r+=e[o]*i[o];return r},lunr.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())},lunr.Vector.prototype.toArray=function(){return this.elements},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(t){var e=new this;return e.elements=t,e.length=t.length,e},lunr.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(t){~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t)},this),this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(t,e){return this.elements.map(t,e)},lunr.SortedSet.prototype.forEach=function(t,e){return this.elements.forEach(t,e)},lunr.SortedSet.prototype.indexOf=function(t,e,i){var e=e||0,i=i||this.elements.length,n=i-e,r=e+Math.floor(n/2),o=this.elements[r];return 1>=n?o===t?r:-1:t>o?this.indexOf(t,r,i):o>t?this.indexOf(t,e,r):o===t?r:void 0},lunr.SortedSet.prototype.locationFor=function(t,e,i){var e=e||0,i=i||this.elements.length,n=i-e,r=e+Math.floor(n/2),o=this.elements[r];if(1>=n){if(o>t)return r;if(t>o)return r+1}return t>o?this.locationFor(t,r,i):o>t?this.locationFor(t,e,r):void 0},lunr.SortedSet.prototype.intersect=function(t){for(var e=new lunr.SortedSet,i=0,n=0,r=this.length,o=t.length,s=this.elements,a=t.elements;;){if(i>r-1||n>o-1)break;s[i]!==a[n]?s[i]<a[n]?i++:s[i]>a[n]&&n++:(e.add(s[i]),i++,n++)}return e},lunr.SortedSet.prototype.clone=function(){var t=new lunr.SortedSet;return t.elements=this.toArray(),t.length=t.elements.length,t},lunr.SortedSet.prototype.union=function(t){var e,i,n;return this.length>=t.length?(e=this,i=t):(e=t,i=this),n=e.clone(),n.add.apply(n,i.toArray()),n},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},lunr.Index=function(){this._fields=[],this._ref="id",this.pipeline=new lunr.Pipeline,this.documentStore=new lunr.Store,this.tokenStore=new lunr.TokenStore,this.corpusTokens=new lunr.SortedSet,this.eventEmitter=new lunr.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},lunr.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},lunr.Index.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e)},lunr.Index.load=function(t){t.version!==lunr.version&&lunr.utils.warn("version mismatch: current "+lunr.version+" importing "+t.version);var e=new this;return e._fields=t.fields,e._ref=t.ref,e.documentStore=lunr.Store.load(t.documentStore),e.tokenStore=lunr.TokenStore.load(t.tokenStore),e.corpusTokens=lunr.SortedSet.load(t.corpusTokens),e.pipeline=lunr.Pipeline.load(t.pipeline),e},lunr.Index.prototype.field=function(t,e){var e=e||{},i={name:t,boost:e.boost||1};return this._fields.push(i),this},lunr.Index.prototype.ref=function(t){return this._ref=t,this},lunr.Index.prototype.add=function(t,e){var i={},n=new lunr.SortedSet,r=t[this._ref],e=void 0===e?!0:e;this._fields.forEach(function(e){var r=this.pipeline.run(lunr.tokenizer(t[e.name]));i[e.name]=r,lunr.SortedSet.prototype.add.apply(n,r)},this),this.documentStore.set(r,n),lunr.SortedSet.prototype.add.apply(this.corpusTokens,n.toArray());for(var o=0;o<n.length;o++){var s=n.elements[o],a=this._fields.reduce(function(t,e){var n=i[e.name].length;if(!n)return t;var r=i[e.name].filter(function(t){return t===s}).length;return t+r/n*e.boost},0);this.tokenStore.add(s,{ref:r,tf:a})}e&&this.eventEmitter.emit("add",t,this)},lunr.Index.prototype.remove=function(t,e){var i=t[this._ref],e=void 0===e?!0:e;if(this.documentStore.has(i)){var n=this.documentStore.get(i);this.documentStore.remove(i),n.forEach(function(t){this.tokenStore.remove(t,i)},this),e&&this.eventEmitter.emit("remove",t,this)}},lunr.Index.prototype.update=function(t,e){var e=void 0===e?!0:e;this.remove(t,!1),this.add(t,!1),e&&this.eventEmitter.emit("update",t,this)},lunr.Index.prototype.idf=function(t){var e="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,e))return this._idfCache[e];var i=this.tokenStore.count(t),n=1;return i>0&&(n=1+Math.log(this.tokenStore.length/i)),this._idfCache[e]=n},lunr.Index.prototype.search=function(t){var e=this.pipeline.run(lunr.tokenizer(t)),i=lunr.utils.zeroFillArray(this.corpusTokens.length),n=[],r=this._fields.reduce(function(t,e){return t+e.boost},0),o=e.some(function(t){return this.tokenStore.has(t)},this);if(!o)return[];e.forEach(function(t,e,o){var s=1/o.length*this._fields.length*r,a=this,l=this.tokenStore.expand(t).reduce(function(e,n){var r=a.corpusTokens.indexOf(n),o=a.idf(n),l=1,u=new lunr.SortedSet;if(n!==t){var h=Math.max(3,n.length-t.length);l=1/Math.log(h)}return r>-1&&(i[r]=s*o*l),Object.keys(a.tokenStore.get(n)).forEach(function(t){u.add(t)}),e.union(u)},new lunr.SortedSet);n.push(l)},this);var s=n.reduce(function(t,e){return t.intersect(e)}),a=new lunr.Vector(i);return s.map(function(t){return{ref:t,score:a.similarity(this.documentVector(t))}},this).sort(function(t,e){return e.score-t.score})},lunr.Index.prototype.documentVector=function(t){for(var e=this.documentStore.get(t),i=e.length,n=lunr.utils.zeroFillArray(this.corpusTokens.length),r=0;i>r;r++){var o=e.elements[r],s=this.tokenStore.get(o)[t].tf,a=this.idf(o);n[this.corpusTokens.indexOf(o)]=s*a}return new lunr.Vector(n)},lunr.Index.prototype.toJSON=function(){return{version:lunr.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},lunr.Store=function(){this.store={},this.length=0},lunr.Store.load=function(t){var e=new this;return e.length=t.length,e.store=Object.keys(t.store).reduce(function(e,i){return e[i]=lunr.SortedSet.load(t.store[i]),e},{}),e},lunr.Store.prototype.set=function(t,e){this.store[t]=e,this.length=Object.keys(this.store).length},lunr.Store.prototype.get=function(t){return this.store[t]},lunr.Store.prototype.has=function(t){return t in this.store},lunr.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},lunr.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},lunr.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i="[^aeiou]",n="[aeiouy]",r=i+"[^aeiouy]*",o=n+"[aeiou]*",s="^("+r+")?"+o+r,a="^("+r+")?"+o+r+"("+o+")?$",l="^("+r+")?"+o+r+o+r,u="^("+r+")?"+n;return function(i){var o,h,c,p,d,f,m;if(i.length<3)return i;if(c=i.substr(0,1),"y"==c&&(i=c.toUpperCase()+i.substr(1)),p=/^(.+?)(ss|i)es$/,d=/^(.+?)([^s])s$/,p.test(i)?i=i.replace(p,"$1$2"):d.test(i)&&(i=i.replace(d,"$1$2")),p=/^(.+?)eed$/,d=/^(.+?)(ed|ing)$/,p.test(i)){var g=p.exec(i);p=new RegExp(s),p.test(g[1])&&(p=/.$/,i=i.replace(p,""))}else if(d.test(i)){var g=d.exec(i);o=g[1],d=new RegExp(u),d.test(o)&&(i=o,d=/(at|bl|iz)$/,f=new RegExp("([^aeiouylsz])\\1$"),m=new RegExp("^"+r+n+"[^aeiouwxy]$"),d.test(i)?i+="e":f.test(i)?(p=/.$/,i=i.replace(p,"")):m.test(i)&&(i+="e"))}if(p=/^(.+?)y$/,p.test(i)){var g=p.exec(i);o=g[1],p=new RegExp(u),p.test(o)&&(i=o+"i")}if(p=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,p.test(i)){var g=p.exec(i);o=g[1],h=g[2],p=new RegExp(s),p.test(o)&&(i=o+t[h])}if(p=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,p.test(i)){var g=p.exec(i);o=g[1],h=g[2],p=new RegExp(s),p.test(o)&&(i=o+e[h])}if(p=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,d=/^(.+?)(s|t)(ion)$/,p.test(i)){var g=p.exec(i);o=g[1],p=new RegExp(l),p.test(o)&&(i=o)}else if(d.test(i)){var g=d.exec(i);o=g[1]+g[2],d=new RegExp(l),d.test(o)&&(i=o)}if(p=/^(.+?)e$/,p.test(i)){var g=p.exec(i);o=g[1],p=new RegExp(l),d=new RegExp(a),f=new RegExp("^"+r+n+"[^aeiouwxy]$"),(p.test(o)||d.test(o)&&!f.test(o))&&(i=o)}return p=/ll$/,d=new RegExp(l),p.test(i)&&d.test(i)&&(p=/.$/,i=i.replace(p,"")),"y"==c&&(i=c.toLowerCase()+i.substr(1)),i}}(),lunr.Pipeline.registerFunction(lunr.stemmer,"stemmer"),lunr.stopWordFilter=function(t){return-1===lunr.stopWordFilter.stopWords.indexOf(t)?t:void 0},lunr.stopWordFilter.stopWords=new lunr.SortedSet,lunr.stopWordFilter.stopWords.length=119,lunr.stopWordFilter.stopWords.elements=["","a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"],lunr.Pipeline.registerFunction(lunr.stopWordFilter,"stopWordFilter"),lunr.TokenStore=function(){this.root={docs:{}},this.length=0},lunr.TokenStore.load=function(t){var e=new this;return e.root=t.root,e.length=t.length,e},lunr.TokenStore.prototype.add=function(t,e,i){var i=i||this.root,n=t[0],r=t.slice(1);return n in i||(i[n]={docs:{}}),0===r.length?(i[n].docs[e.ref]=e,void(this.length+=1)):this.add(r,e,i[n])},lunr.TokenStore.prototype.has=function(t){if(!t)return!1;for(var e=this.root,i=0;i<t.length;i++){if(!e[t[i]])return!1;e=e[t[i]]}return!0},lunr.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var e=this.root,i=0;i<t.length;i++){if(!e[t[i]])return{};e=e[t[i]]}return e},lunr.TokenStore.prototype.get=function(t,e){return this.getNode(t,e).docs||{}},lunr.TokenStore.prototype.count=function(t,e){return Object.keys(this.get(t,e)).length},lunr.TokenStore.prototype.remove=function(t,e){if(t){for(var i=this.root,n=0;n<t.length;n++){if(!(t[n]in i))return;i=i[t[n]]}delete i.docs[e]}},lunr.TokenStore.prototype.expand=function(t,e){var i=this.getNode(t),n=i.docs||{},e=e||[];return Object.keys(n).length&&e.push(t),Object.keys(i).forEach(function(i){"docs"!==i&&e.concat(this.expand(t+i,e))},this),e},lunr.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(t,e){if("object"==typeof exports&&exports)e(exports);else{var i={};e(i),"function"==typeof define&&define.amd?define(i):t.Mustache=i}}(this,function(t){function e(t,e){return d.call(t,e)}function i(t){return!e(f,t)}function n(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t){return String(t).replace(/[&<>"'\/]/g,function(t){return v[t]})}function s(t){if(!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);return[new RegExp(r(t[0])+"\\s*"),new RegExp("\\s*"+r(t[1]))]}function a(e,n){function o(){if(m&&!g)for(;f.length;)delete d[f.pop()];else f=[];m=!1,g=!1}n=n||t.tags,e=e||"","string"==typeof n&&(n=n.split(b));for(var a=s(n),c=new h(e),p=[],d=[],f=[],m=!1,g=!1,v,S,k,T,z,C;!c.eos();){if(v=c.pos,k=c.scanUntil(a[0]))for(var A=0,O=k.length;O>A;++A)T=k.charAt(A),i(T)?f.push(d.length):g=!0,d.push(["text",T,v,v+1]),v+=1,"\n"===T&&o();if(!c.scan(a[0]))break;if(m=!0,S=c.scan(x)||"name",c.scan(y),"="===S?(k=c.scanUntil(_),c.scan(_),c.scanUntil(a[1])):"{"===S?(k=c.scanUntil(new RegExp("\\s*"+r("}"+n[1]))),c.scan(w),c.scanUntil(a[1]),S="&"):k=c.scanUntil(a[1]),!c.scan(a[1]))throw new Error("Unclosed tag at "+c.pos);if(z=[S,k,v,c.pos],d.push(z),"#"===S||"^"===S)p.push(z);else if("/"===S){if(C=p.pop(),!C)throw new Error('Unopened section "'+k+'" at '+v);if(C[1]!==k)throw new Error('Unclosed section "'+C[1]+'" at '+v)}else"name"===S||"{"===S||"&"===S?g=!0:"="===S&&(a=s(n=k.split(b)))}if(C=p.pop())throw new Error('Unclosed section "'+C[1]+'" at '+c.pos);return u(l(d))}function l(t){for(var e=[],i,n,r=0,o=t.length;o>r;++r)i=t[r],i&&("text"===i[0]&&n&&"text"===n[0]?(n[1]+=i[1],n[3]=i[3]):(e.push(i),n=i));return e}function u(t){for(var e=[],i=e,n=[],r,o,s=0,a=t.length;a>s;++s)switch(r=t[s],r[0]){case"#":case"^":i.push(r),n.push(r),i=r[4]=[];break;case"/":o=n.pop(),o[5]=r[2],i=n.length>0?n[n.length-1][4]:e;break;default:i.push(r)}return e}function h(t){this.string=t,this.tail=t,this.pos=0}function c(t,e){this.view=null==t?{}:t,this.cache={".":this.view},this.parent=e}function p(){this.cache={}}var d=RegExp.prototype.test,f=/\S/,m=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===m.call(t)},v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},y=/\s*/,b=/\s+/,_=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(e&&0===e.index){var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i}return""},h.prototype.scanUntil=function(t){var e=this.tail.search(t),i;switch(e){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=i.length,i},c.prototype.push=function(t){return new c(t,this)},c.prototype.lookup=function(t){var e;if(t in this.cache)e=this.cache[t];else{for(var i=this;i;){if(t.indexOf(".")>0){e=i.view;for(var r=t.split("."),o=0;null!=e&&o<r.length;)e=e[r[o++]]}else e=i.view[t];if(null!=e)break;i=i.parent}this.cache[t]=e}return n(e)&&(e=e.call(this.view)),e},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=a(t,e)),n},p.prototype.render=function(t,e,i){var n=this.parse(t),r=e instanceof c?e:new c(e);return this.renderTokens(n,r,i,t)},p.prototype.renderTokens=function(e,i,r,o){function s(t){return l.render(t,i,r)}for(var a="",l=this,u,h,c=0,p=e.length;p>c;++c)switch(u=e[c],u[0]){case"#":if(h=i.lookup(u[1]),!h)continue;if(g(h))for(var d=0,f=h.length;f>d;++d)a+=this.renderTokens(u[4],i.push(h[d]),r,o);else if("object"==typeof h||"string"==typeof h)a+=this.renderTokens(u[4],i.push(h),r,o);else if(n(h)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");h=h.call(i.view,o.slice(u[3],u[5]),s),null!=h&&(a+=h)}else a+=this.renderTokens(u[4],i,r,o);break;case"^":h=i.lookup(u[1]),(!h||g(h)&&0===h.length)&&(a+=this.renderTokens(u[4],i,r,o));break;case">":if(!r)continue;h=n(r)?r(u[1]):r[u[1]],null!=h&&(a+=this.renderTokens(this.parse(h),i,r,h));break;case"&":h=i.lookup(u[1]),null!=h&&(a+=h);break;case"name":h=i.lookup(u[1]),null!=h&&(a+=t.escape(h));break;case"text":a+=u[1]}return a},t.name="mustache.js",t.version="0.8.1",t.tags=["{{","}}"];var S=new p;t.clearCache=function(){return S.clearCache()},t.parse=function(t,e){return S.parse(t,e)},t.render=function(t,e,i){return S.render(t,e,i)},t.to_html=function(e,i,r,o){var s=t.render(e,i,r);return n(o)?void o(s):s},t.escape=o,t.Scanner=h,t.Context=c,t.Writer=p});var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,n=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(r,o,s){var a=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(o=r,r=void 0),r=r?new Date(r):new Date,isNaN(r))throw SyntaxError("invalid date");o=String(a.masks[o]||o||a.masks["default"]),"UTC:"==o.slice(0,4)&&(o=o.slice(4),s=!0);var l=s?"getUTC":"get",u=r[l+"Date"](),h=r[l+"Day"](),c=r[l+"Month"](),p=r[l+"FullYear"](),d=r[l+"Hours"](),f=r[l+"Minutes"](),m=r[l+"Seconds"](),g=r[l+"Milliseconds"](),v=s?0:r.getTimezoneOffset(),y={d:u,dd:n(u),ddd:a.i18n.dayNames[h],dddd:a.i18n.dayNames[h+7],m:c+1,mm:n(c+1),mmm:a.i18n.monthNames[c],mmmm:a.i18n.monthNames[c+12],yy:String(p).slice(2),yyyy:p,h:d%12||12,hh:n(d%12||12),H:d,HH:n(d),M:f,MM:n(f),s:m,ss:n(m),l:n(g,3),L:n(g>99?Math.round(g/10):g),t:12>d?"a":"p",tt:12>d?"am":"pm",T:12>d?"A":"P",TT:12>d?"AM":"PM",Z:s?"UTC":(String(r).match(e)||[""]).pop().replace(i,""),o:(v>0?"-":"+")+n(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!=10)*u%10]};return o.replace(t,function(t){return t in y?y[t]:t.slice(1,t.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return dateFormat(this,t,e)},function(t,e){"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,i,n){function r(t,e){return this instanceof r?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new r(t,e)}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function a(t){return"Array"===s(t)}function l(t,e){var i,n;if(a(e)){for(i=0,n=e.length;n>i;i++)if(!l(t,e[i]))return!1;return!0}var r=s(e);for(i=0,n=t.length;n>i;i++)if("RegExp"===r){if("string"==typeof t[i]&&t[i].match(e))return!0}else if(t[i]===e)return!0;return!1}function u(t,e){if(!a(t)||!a(e)||t.length!==e.length)return!1;t.sort(),e.sort();for(var i=0,n=t.length;n>i;i++)if(t[i]!==e[i])return!1;return!0}function h(t){return escape(t)}function c(t){return encodeURIComponent(t).replace(/[!'()*]/g,h).replace(/\*/g,"%2A")}var p=n&&n.URI;r.version="1.12.1";var d=r.prototype,f=Object.prototype.hasOwnProperty;r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}},r.duplicateQueryParameters=!1,r.escapeQuerySpace=!0,r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,r.idn_expression=/[^a-z0-9\.-]/i,r.punycode_expression=/(xn--)/i,r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},r.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},r.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();return"input"===e&&"image"!==t.type?void 0:r.domAttributes[e]}},r.encode=c,r.decode=decodeURIComponent,r.iso8859=function(){r.encode=escape,r.decode=unescape},r.unicode=function(){r.encode=c,r.decode=decodeURIComponent},r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},r.encodeQuery=function(t,e){var i=r.encode(t+"");return void 0===e&&(e=r.escapeQuerySpace),e?i.replace(/%20/g,"+"):i},r.decodeQuery=function(t,e){t+="",void 0===e&&(e=r.escapeQuerySpace);try{return r.decode(e?t.replace(/\+/g,"%20"):t)}catch(i){return t}},r.recodePath=function(t){t=(t+"").split("/");for(var e=0,i=t.length;i>e;e++)t[e]=r.encodePathSegment(r.decode(t[e]));return t.join("/")},r.decodePath=function(t){t=(t+"").split("/");for(var e=0,i=t.length;i>e;e++)t[e]=r.decodePathSegment(t[e]);return t.join("/")};var m={encode:"encode",decode:"decode"},g,v=function(t,e){return function(i){return r[e](i+"").replace(r.characters[t][e].expression,function(i){return r.characters[t][e].map[i]})}};for(g in m)r[g+"PathSegment"]=v("pathname",m[g]);r.encodeReserved=v("reserved","encode"),r.parse=function(t,e){var i;return e||(e={}),i=t.indexOf("#"),i>-1&&(e.fragment=t.substring(i+1)||null,t=t.substring(0,i)),i=t.indexOf("?"),i>-1&&(e.query=t.substring(i+1)||null,t=t.substring(0,i)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=r.parseAuthority(t,e)):(i=t.indexOf(":"),i>-1&&(e.protocol=t.substring(0,i)||null,e.protocol&&!e.protocol.match(r.protocol_expression)?e.protocol=void 0:"file"===e.protocol?t=t.substring(i+3):"//"===t.substring(i+1,i+3)?(t=t.substring(i+3),t=r.parseAuthority(t,e)):(t=t.substring(i+1),e.urn=!0))),e.path=t,e},r.parseHost=function(t,e){var i=t.indexOf("/"),n;return-1===i&&(i=t.length),"["===t.charAt(0)?(n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,i)||null):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,i)||null,e.port=null):(n=t.substring(0,i).split(":"),e.hostname=n[0]||null,e.port=n[1]||null),e.hostname&&"/"!==t.substring(i).charAt(0)&&(i++,t="/"+t),t.substring(i)||"/"},r.parseAuthority=function(t,e){return t=r.parseUserinfo(t,e),r.parseHost(t,e)},r.parseUserinfo=function(t,e){var i=t.indexOf("/"),n=i>-1?t.lastIndexOf("@",i):t.indexOf("@");return n>-1&&(-1===i||i>n)?(i=t.substring(0,n).split(":"),e.username=i[0]?r.decode(i[0]):null,i.shift(),e.password=i[0]?r.decode(i.join(":")):null,t=t.substring(n+1)):(e.username=null,e.password=null),t},r.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var i={},n=t.split("&"),o=n.length,s,a,l=0;o>l;l++)s=n[l].split("="),a=r.decodeQuery(s.shift(),e),s=s.length?r.decodeQuery(s.join("="),e):null,i[a]?("string"==typeof i[a]&&(i[a]=[i[a]]),i[a].push(s)):i[a]=s;return i},r.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=r.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},r.buildHost=function(t){var e="";return t.hostname?(r.ip6_expression.test(t.hostname)?e=t.port?e+("["+t.hostname+"]:"+t.port):e+t.hostname:(e+=t.hostname,t.port&&(e+=":"+t.port)),e):""},r.buildAuthority=function(t){return r.buildUserinfo(t)+r.buildHost(t)},r.buildUserinfo=function(t){var e="";return t.username&&(e+=r.encode(t.username),t.password&&(e+=":"+r.encode(t.password)),e+="@"),e},r.buildQuery=function(t,e,i){var n="",o,s,l,u;for(s in t)if(f.call(t,s)&&s)if(a(t[s]))for(o={},l=0,u=t[s].length;u>l;l++)void 0!==t[s][l]&&void 0===o[t[s][l]+""]&&(n+="&"+r.buildQueryParameter(s,t[s][l],i),!0!==e&&(o[t[s][l]+""]=!0));else void 0!==t[s]&&(n+="&"+r.buildQueryParameter(s,t[s],i));return n.substring(1)},r.buildQueryParameter=function(t,e,i){return r.encodeQuery(t,i)+(null!==e?"="+r.encodeQuery(e,i):"")},r.addQuery=function(t,e,i){if("object"==typeof e)for(var n in e)f.call(e,n)&&r.addQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===t[e]?t[e]=i:("string"==typeof t[e]&&(t[e]=[t[e]]),a(i)||(i=[i]),t[e]=t[e].concat(i))}},r.removeQuery=function(t,e,i){var n;if(a(e))for(i=0,n=e.length;n>i;i++)t[e[i]]=void 0;else if("object"==typeof e)for(n in e)f.call(e,n)&&r.removeQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==i){if(t[e]===i)t[e]=void 0;else if(a(t[e])){n=t[e];var o={},s,l;if(a(i))for(s=0,l=i.length;l>s;s++)o[i[s]]=!0;else o[i]=!0;for(s=0,l=n.length;l>s;s++)void 0!==o[n[s]]&&(n.splice(s,1),l--,s--);t[e]=n}}else t[e]=void 0}},r.hasQuery=function(t,e,i,n){if("object"==typeof e){for(var o in e)if(f.call(e,o)&&!r.hasQuery(t,o,e[o]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(s(i)){case"Undefined":return e in t;case"Boolean":return t=Boolean(a(t[e])?t[e].length:t[e]),i===t;case"Function":return!!i(t[e],e,t);case"Array":return a(t[e])?(n?l:u)(t[e],i):!1;case"RegExp":return a(t[e])?n?l(t[e],i):!1:Boolean(t[e]&&t[e].match(i));case"Number":i=String(i);case"String":return a(t[e])?n?l(t[e],i):!1:t[e]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.commonPath=function(t,e){var i=Math.min(t.length,e.length),n;for(n=0;i>n;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return 1>n?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":(("/"!==t.charAt(n)||"/"!==e.charAt(n))&&(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},r.withinString=function(t,e,i){i||(i={});var n=i.start||r.findUri.start,o=i.end||r.findUri.end,s=i.trim||r.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var l=n.exec(t);if(!l)break;if(l=l.index,i.ignoreHtml){var u=t.slice(Math.max(l-3,0),l);if(u&&a.test(u))continue}var u=l+t.slice(l).search(o),h=t.slice(l,u).replace(s,"");i.ignore&&i.ignore.test(h)||(u=l+h.length,h=e(h,l,u,t),t=t.slice(0,l)+h+t.slice(u),n.lastIndex=l+h.length)}return n.lastIndex=0,t},r.ensureValidHostname=function(e){if(e.match(r.invalid_hostname_characters)){if(!t)throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(t.toASCII(e).match(r.invalid_hostname_characters))throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-]")}},r.noConflict=function(t){return t?(t={URI:this.noConflict()},URITemplate&&"function"==typeof URITemplate.noConflict&&(t.URITemplate=URITemplate.noConflict()),e&&"function"==typeof e.noConflict&&(t.IPv6=e.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(t.SecondLevelDomains=SecondLevelDomains.noConflict()),t):(n.URI===this&&(n.URI=p),this)},d.build=function(t){return!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=r.build(this._parts),this._deferred_build=!1),this},d.clone=function(){return new r(this)
},d.valueOf=d.toString=function(){return this.build(!1)._string},m={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},v=function(t){return function(e,i){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!i),this)}};for(g in m)d[g]=v(m[g]);m={query:"?",fragment:"#"},v=function(t,e){return function(i,n){return void 0===i?this._parts[t]||"":(null!==i&&(i+="",i.charAt(0)===e&&(i=i.substring(1))),this._parts[t]=i,this.build(!n),this)}};for(g in m)d[g]=v(g,m[g]);m={search:["?","query"],hash:["#","fragment"]},v=function(t,e){return function(i,n){var r=this[t](i,n);return"string"==typeof r&&r.length?e+r:r}};for(g in m)d[g]=v(m[g][1],m[g][0]);d.pathname=function(t,e){if(void 0===t||!0===t){var i=this._parts.path||(this._parts.hostname?"/":"");return t?r.decodePath(i):i}return this._parts.path=t?r.recodePath(t):"/",this.build(!e),this},d.path=d.pathname,d.href=function(t,e){var i;if(void 0===t)return this.toString();this._string="",this._parts=r._parts();var n=t instanceof r,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName&&(o=r.getDomAttribute(t),t=t[o]||"",o=!1),!n&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t)this._parts=r.parse(t,this._parts);else{if(!n&&!o)throw new TypeError("invalid input");for(i in n=n?t._parts:t)f.call(this._parts,i)&&(this._parts[i]=n[i])}return this.build(!e),this},d.is=function(t){var e=!1,n=!1,o=!1,s=!1,a=!1,l=!1,u=!1,h=!this._parts.urn;switch(this._parts.hostname&&(h=!1,n=r.ip4_expression.test(this._parts.hostname),o=r.ip6_expression.test(this._parts.hostname),e=n||o,a=(s=!e)&&i&&i.has(this._parts.hostname),l=s&&r.idn_expression.test(this._parts.hostname),u=s&&r.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return h;case"absolute":return!h;case"domain":case"name":return s;case"sld":return a;case"ip":return e;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return o;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var y=d.protocol,b=d.port,_=d.hostname;d.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(r.protocol_expression)))throw new TypeError("Protocol '"+t+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return y.call(this,t,e)},d.scheme=d.protocol,d.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError("Port '"+t+"' contains characters other than [0-9]");return b.call(this,t,e)},d.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var i={};r.parseHost(t,i),t=i.hostname}return _.call(this,t,e)},d.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?r.buildHost(this._parts):"":(r.parseHost(t,this._parts),this.build(!e),this)},d.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?r.buildAuthority(this._parts):"":(r.parseAuthority(t,this._parts),this.build(!e),this)},d.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var i=r.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==t[t.length-1]&&(t+="@"),r.parseUserinfo(t,this._parts),this.build(!e),this},d.resource=function(t,e){var i;return void 0===t?this.path()+this.search()+this.hash():(i=r.parse(t),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!e),this)},d.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}return i=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,i),i=RegExp("^"+o(i)),t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&r.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(i,t),this.build(!e),this},d.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);return i&&2>i.length?this._parts.hostname:(i=this._parts.hostname.length-this.tld(e).length-1,i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||"")}if(!t)throw new TypeError("cannot set domain empty");return r.ensureValidHostname(t),!this._parts.hostname||this.is("IP")?this._parts.hostname=t:(i=RegExp(o(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(i,t)),this.build(!e),this},d.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(n+1);return!0!==e&&i&&i.list[n.toLowerCase()]?i.get(this._parts.hostname)||n:n}if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(t))throw new TypeError("TLD '"+t+"' contains characters other than [A-Z0-9]");n=RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");n=RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,t)}return this.build(!e),this},d.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return t?r.decodePath(i):i}return i=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,i),i=RegExp("^"+o(i)),this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=r.recodePath(t),this._parts.path=this._parts.path.replace(i,t),this.build(!e),this},d.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(i+1);return t?r.decodePathSegment(i):i}i=!1,"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(i=!0);var n=RegExp(o(this.filename())+"$");return t=r.recodePath(t),this._parts.path=this._parts.path.replace(n,t),i?this.normalizePath(e):this.build(!e),this},d.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf(".");return-1===n?"":(i=i.substring(n+1),i=/^[a-z0-9%]+$/i.test(i)?i:"",t?r.decodePathSegment(i):i)}if("."===t.charAt(0)&&(t=t.substring(1)),i=this.suffix())n=RegExp(t?o(i)+"$":o("."+i)+"$");else{if(!t)return this;this._parts.path+="."+r.recodePath(t)}return n&&(t=r.recodePath(t),this._parts.path=this._parts.path.replace(n,t)),this.build(!e),this},d.segment=function(t,e,i){var n=this._parts.urn?":":"/",r=this.path(),o="/"===r.substring(0,1),r=r.split(n);if(void 0!==t&&"number"!=typeof t&&(i=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw Error("Bad segment '"+t+"', must be 0-based integer");if(o&&r.shift(),0>t&&(t=Math.max(r.length+t,0)),void 0===e)return void 0===t?r:r[t];if(null===t||void 0===r[t])if(a(e)){r=[],t=0;for(var s=e.length;s>t;t++)(e[t].length||r.length&&r[r.length-1].length)&&(r.length&&!r[r.length-1].length&&r.pop(),r.push(e[t]))}else(e||"string"==typeof e)&&(""===r[r.length-1]?r[r.length-1]=e:r.push(e));else e||"string"==typeof e&&e.length?r[t]=e:r.splice(t,1);return o&&r.unshift(""),this.path(r.join(n),i)},d.segmentCoded=function(t,e,i){var n,o;if("number"!=typeof t&&(i=e,e=t,t=void 0),void 0===e){if(t=this.segment(t,e,i),a(t))for(n=0,o=t.length;o>n;n++)t[n]=r.decode(t[n]);else t=void 0!==t?r.decode(t):void 0;return t}if(a(e))for(n=0,o=e.length;o>n;n++)e[n]=r.decode(e[n]);else e="string"==typeof e?r.encode(e):e;return this.segment(t,e,i)};var w=d.query;return d.query=function(t,e){if(!0===t)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=t.call(this,i);return this._parts.query=r.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=r.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):w.call(this,t,e)},d.setQuery=function(t,e,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof t)for(var o in t)f.call(t,o)&&(n[o]=t[o]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[t]=void 0!==e?e:null}return this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},d.addQuery=function(t,e,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.addQuery(n,t,void 0===e?null:e),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},d.removeQuery=function(t,e,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.removeQuery(n,t,e),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},d.hasQuery=function(t,e,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(n,t,e,i)},d.setSearch=d.setQuery,d.addSearch=d.addQuery,d.removeSearch=d.removeQuery,d.hasSearch=d.hasQuery,d.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},d.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},d.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},d.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},d.normalizePath=function(t){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var e,i=this._parts.path,n="",o,s;for("/"!==i.charAt(0)&&(e=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(n=i.substring(1).match(/^(\.\.\/)+/)||"")&&(n=n[0]);o=i.indexOf("/.."),-1!==o;)0!==o?(s=i.substring(0,o).lastIndexOf("/"),-1===s&&(s=o),i=i.substring(0,s)+i.substring(o+3)):i=i.substring(3);return e&&this.is("relative")&&(i=n+i.substring(1)),i=r.recodePath(i),this._parts.path=i,this.build(!t),this},d.normalizePathname=d.normalizePath,d.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},d.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},d.normalizeSearch=d.normalizeQuery,d.normalizeHash=d.normalizeFragment,d.iso8859=function(){var t=r.encode,e=r.decode;return r.encode=escape,r.decode=decodeURIComponent,this.normalize(),r.encode=t,r.decode=e,this},d.unicode=function(){var t=r.encode,e=r.decode;return r.encode=c,r.decode=unescape,this.normalize(),r.encode=t,r.decode=e,this},d.readable=function(){var e=this.clone();e.username("").password("").normalize();var i="";if(e._parts.protocol&&(i+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(i+=t.toUnicode(e._parts.hostname),e._parts.port&&(i+=":"+e._parts.port)):i+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(i+="/"),i+=e.path(!0),e._parts.query){for(var n="",o=0,s=e._parts.query.split("&"),a=s.length;a>o;o++){var l=(s[o]||"").split("="),n=n+("&"+r.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==l[1]&&(n+="="+r.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}i+="?"+n.substring(1)}return i+=r.decodeQuery(e.hash(),!0)},d.absoluteTo=function(t){var e=this.clone(),i=["protocol","username","password","hostname","port"],n,o;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(t instanceof r||(t=new r(t)),e._parts.protocol||(e._parts.protocol=t._parts.protocol),this._parts.hostname)return e;for(n=0;o=i[n];n++)e._parts[o]=t._parts[o];return e._parts.path?".."===e._parts.path.substring(-2)&&(e._parts.path+="/"):(e._parts.path=t._parts.path,e._parts.query||(e._parts.query=t._parts.query)),"/"!==e.path().charAt(0)&&(t=t.directory(),e._parts.path=(t?t+"/":"")+e._parts.path,e.normalizePath()),e.build(),e},d.relativeTo=function(t){var e=this.clone().normalize(),i,n,o,s;if(e._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(t=new r(t).normalize(),i=e._parts,n=t._parts,o=e.path(),s=t.path(),"/"!==o.charAt(0))throw Error("URI is already relative");if("/"!==s.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return i.protocol===n.protocol&&(i.protocol=null),i.username!==n.username||i.password!==n.password||null!==i.protocol||null!==i.username||null!==i.password||i.hostname!==n.hostname||i.port!==n.port?e.build():(i.hostname=null,i.port=null,o===s?(i.path="",e.build()):(t=r.commonPath(e.path(),t.path()))?(n=n.path.substring(t.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),i.path=n+i.path.substring(t.length),e.build()):e.build())},d.equals=function(t){var e=this.clone();t=new r(t);var i={},n={},o={},s;if(e.normalize(),t.normalize(),e.toString()===t.toString())return!0;if(i=e.query(),n=t.query(),e.query(""),t.query(""),e.toString()!==t.toString()||i.length!==n.length)return!1;i=r.parseQuery(i,this._parts.escapeQuerySpace),n=r.parseQuery(n,this._parts.escapeQuerySpace);for(s in i)if(f.call(i,s)){if(a(i[s])){if(!u(i[s],n[s]))return!1}else if(i[s]!==n[s])return!1;o[s]=!0}for(s in n)if(f.call(n,s)&&!o[s])return!1;return!0},d.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},d.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},r}),function($){var t=function(t){var e,i=Array.prototype.slice;return function(){var n=i.call(arguments),r=this;clearTimeout(e),e=setTimeout(function(){t.apply(r,n)},100)}},e=function(t){var e=t.match(/(\d+)/g);return new Date(e[0],e[1]-1,e[2])},i=function(){function i(t,e){this.$elem=t,this.$results=$(e.results),this.$entries=$(e.entries,this.$results),this.indexDataUrl=e.indexUrl,this.index=this.createIndex(),this.template=this.compileTemplate($(e.template)),this.initialize()}return i.prototype.initialize=function(){var t=this;this.loadIndexData(function(e){t.populateIndex(e),t.populateSearchFromQuery(),t.bindKeypress()})},i.prototype.createIndex=function(){return lunr(function(){this.field("title",{boost:10}),this.field("categories"),this.ref("id"),this.field("author"),this.field("addressee"),this.field("position")})},i.prototype.compileTemplate=function(t){var e=t.text();return Mustache.parse(e),function(t,i){return Mustache.render(e,t,i)}},i.prototype.loadIndexData=function(t){$.getJSON(this.indexDataUrl,t)},i.prototype.populateIndex=function(t){var e=this.index;this.entries=$.map(t.entries,this.createEntry),$.each(this.entries,function(t,i){e.add(i)})},i.prototype.createEntry=function(t,i){var n=$.extend({id:i+1},t);return t.date&&$.extend(n,{date:e(t.date),pubdate:function(){return dateFormat(e(t.date),"yyyy-mm-dd")},displaydate:function(){return dateFormat(e(t.date),"mmm dd, yyyy")},categories:t.categories.join(" ")}),n},i.prototype.bindKeypress=function(){var e=this,i=this.$elem.val();this.$elem.bind("keyup",t(function(){var t=e.$elem.val();t!==i&&e.search(t),i=t}))},i.prototype.search=function(t){var e=this.entries;if(t.length<2)this.$results.hide(),this.$entries.empty();else{var i=$.map(this.index.search(t),function(t){return $.grep(e,function(e){return e.id===parseInt(t.ref,10)})[0]});this.displayResults(i)}},i.prototype.displayResults=function(t){var e=this.$entries,i=this.$results;e.empty(),e.append(0===t.length?"<p>Nothing found.</p>":this.template({entries:t})),i.show()},i.prototype.populateSearchFromQuery=function(){var t=new URI(window.location.search.toString()),e=t.search(!0);e.hasOwnProperty("q")&&(this.$elem.val(e.q),this.search(e.q.toString()))},i}();$.fn.lunrSearch=function(t){return t=$.extend({},$.fn.lunrSearch.defaults,t),new i(this,t),this},$.fn.lunrSearch.defaults={indexUrl:"/search.json",results:"#search-results",entries:".entries",template:"#search-results-template"}}(jQuery),$(document).ready(function(){function t(){var t=$("#story-title");if(t.size()){var e=$(window).width();t.css({width:e}),$(window).width()<1200?($("#title-img").addClass("title-img"),$("#title-img").removeClass("title-img-fade"),$("#story-title").css({"background-color":"transparent"})):($("#title-img").addClass("title-img-fade"),$("#title-img").removeClass("title-img"),$("#story-title").css({"background-color":"#000"}))}var i=$("#home-feature");if(i.size()){var n=$(window).width();i.css({width:n}),$(window).width()<1200?($("#home-feature-img").addClass("home-feature-img"),$("#home-feature-img").removeClass("home-feature-img-fade"),$("#home-feature").css({"background-color":"transparent"})):($("#home-feature-img").addClass("home-feature-img-fade"),$("#home-feature-img").removeClass("home-feature-img"))}$("#top-nav").waypoint(function(t){"down"===t&&$(window).width()>640?($("#mini-top-nav.mini-top-nav-hidden").css({position:"fixed"}),$("#mini-top-nav.mini-top-nav-hidden").css({display:"block"}),$("#mini-top-nav.mini-top-nav-hidden").css({top:"0"})):"up"===t&&$(window).width()>640&&$("#mini-top-nav.mini-top-nav-hidden").css({top:"-50px"})},{offset:-100}),$(window).width()>640?($(window).stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,hideDistantElements:!1,responsive:!0}),$("#title-img").attr("data-stellar-background-ratio",".25"),$("#home-feature-img").attr("data-stellar-background-ratio",".25"),$(".status-row").attr("data-stellar-ratio","1.1"),$(".people-row").attr("data-stellar-ratio","1.1")):($("#title-img").removeAttr("data-stellar-background-ratio"),$("#home-feature-img").removeAttr("data-stellar-background-ratio"),$(".status-row").removeAttr("data-stellar-ratio"),$(".people-row").removeAttr("data-stellar-ratio"))}$(window).load(function(){t()}).bind("resize",function(){t(),$("#mini-top-nav.mini-top-nav-hidden").removeAttr("style"),$("#top-nav").waypoint(function(){$("#mini-top-nav.mini-top-nav-hidden").css({top:"0"})},{offset:-100})}),$(function(){$("#story-title").css({width:$(window).width()+"px"})}),$("p").contentshare({shareIcons:["fa-facebook","fa-twitter"],shareLinks:["http://www.facebook.com/sharer.php?s=100&p[url]="+document.URL+"&p[title]="+document.title+"&p[summary]={{text}}","http://twitter.com/intent/tweet?text={{text}}%0a"+window.location.href],minLength:1}),$.fn.contentshare.defaults.shareable.on("mouseup",function(){$.fn.contentshare.showTooltip()}),$(window).resize()}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Blazy=e()}(this,function(){function t(t){if(!document.querySelectorAll){var n=document.createStyleSheet();document.querySelectorAll=function(t,e,i,r,o){for(o=document.all,e=[],t=t.replace(/\[for\b/gi,"[htmlFor").split(","),i=t.length;i--;){for(n.addRule(t[i],"k:v"),r=o.length;r--;)o[r].currentStyle.k&&e.push(o[r]);n.removeRule(0)}return e}}g=!0,d=[],p={},c=t||{},c.error=c.error||!1,c.offset=c.offset||100,c.success=c.success||!1,c.selector=c.selector||".b-lazy",c.separator=c.separator||"|",c.container=c.container?document.querySelectorAll(c.container):!1,c.errorClass=c.errorClass||"b-error",c.breakpoints=c.breakpoints||!1,c.successClass=c.successClass||"b-loaded",c.src=h=c.src||"data-src",m=1<window.devicePixelRatio,p.top=0-c.offset,p.left=0-c.offset,v=u(i,25),y=u(o,50),o(),l(c.breakpoints,function(t){return t.width>=window.screen.width?(h=t.src,!1):void 0}),e()}function e(){r(c.selector),g&&(g=!1,c.container&&l(c.container,function(t){s(t,"scroll",v)}),s(window,"resize",y),s(window,"resize",v),s(window,"scroll",v)),i()}function i(){for(var e=0;f>e;e++){var i=d[e],n=i.getBoundingClientRect();(n.right>=p.left&&n.bottom>=p.top&&n.left<=p.right&&n.top<=p.bottom||-1!==(" "+i.className+" ").indexOf(" "+c.successClass+" "))&&(t.prototype.load(i),d.splice(e,1),f--,e--)}0===f&&t.prototype.destroy()}function n(t,e){if(e||0<t.offsetWidth&&0<t.offsetHeight){var i=t.getAttribute(h)||t.getAttribute(c.src);if(i){var i=i.split(c.separator),n=i[m&&1<i.length?1:0],i=new Image;l(c.breakpoints,function(e){t.removeAttribute(e.src)}),t.removeAttribute(c.src),i.onerror=function(){c.error&&c.error(t,"invalid"),t.className=t.className+" "+c.errorClass},i.onload=function(){"img"===t.nodeName.toLowerCase()?t.src=n:t.style.backgroundImage='url("'+n+'")',t.className=t.className+" "+c.successClass,c.success&&c.success(t)},i.src=n}else c.error&&c.error(t,"missing"),t.className=t.className+" "+c.errorClass}}function r(t){t=document.querySelectorAll(t);for(var e=f=t.length;e--;d.unshift(t[e]));}function o(){p.bottom=(window.innerHeight||document.documentElement.clientHeight)+c.offset,p.right=(window.innerWidth||document.documentElement.clientWidth)+c.offset}function s(t,e,i){t.attachEvent?t.attachEvent&&t.attachEvent("on"+e,i):t.addEventListener(e,i,!1)}function a(t,e,i){t.detachEvent?t.detachEvent&&t.detachEvent("on"+e,i):t.removeEventListener(e,i,!1)}function l(t,e){if(t&&e)for(var i=t.length,n=0;i>n&&!1!==e(t[n],n);n++);}function u(t,e){var i=0;return function(){var n=+new Date;e>n-i||(i=n,t.apply(d,arguments))}}var h,c,p,d,f,m,g,v,y;return t.prototype.revalidate=function(){e()},t.prototype.load=function(t,e){-1===(" "+t.className+" ").indexOf(" "+c.successClass+" ")&&n(t,e)},t.prototype.destroy=function(){c.container&&l(c.container,function(t){a(t,"scroll",v)}),a(window,"scroll",v),a(window,"resize",v),a(window,"resize",y),f=0,d.length=0,g=!0},t});
//# sourceMappingURL=./app-bottom-min.js.map