!function(t,e,i,n){"use strict";function r(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),t}var o;(function(e){for(var i=e.length,n=t("head");i--;)0===n.has("."+e[i]).length&&n.append('<meta class="'+e[i]+'" />')})(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),t((function(){"undefined"!=typeof FastClick&&void 0!==i.body&&FastClick.attach(i.body)}));var s=function(e,n){if("string"==typeof e){if(n){var r;if(n.jquery){if(!(r=n[0]))return n}else r=n;return t(r.querySelectorAll(e))}return t(i.querySelectorAll(e))}return t(e,n)},a=function(t){var e=[];return t||e.push("data"),this.namespace.length>0&&e.push(this.namespace),e.push(this.name),e.join("-")},l=function(t){for(var e=t.split("-"),i=e.length,n=[];i--;)0!==i?n.push(e[i]):this.namespace.length>0?n.push(this.namespace,e[i]):n.push(e[i]);return n.reverse().join("-")},h=function(e,i){var n=this,r=function(){var r=s(this),o=!r.data(n.attr_name(!0)+"-init");r.data(n.attr_name(!0)+"-init",t.extend({},n.settings,i||e,n.data_options(r))),o&&n.events(this)};if(s(this.scope).is("["+this.attr_name()+"]")?r.call(this.scope):s("["+this.attr_name()+"]",this.scope).each(r),"string"==typeof e)return this[e].call(this,i)},u=function(t,e){function i(){e(t[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}t.attr("src")?t[0].complete||4===t[0].readyState?i():n.call(t):i()},c,p,f,d,m,g;e.matchMedia=e.matchMedia||(f=(c=i).documentElement,d=f.firstElementChild||f.firstChild,m=c.createElement("body"),(g=c.createElement("div")).id="mq-test-1",g.style.cssText="position:absolute;top:-100em",m.style.background="none",m.appendChild(g),function(t){return g.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',f.insertBefore(m,d),p=42===g.offsetWidth,f.removeChild(m),{matches:p,media:t}}),function(t){function i(){n&&(s(i),l&&t.fx.tick())}for(var n,r=0,o=["webkit","moz"],s=e.requestAnimationFrame,a=e.cancelAnimationFrame,l=void 0!==t.fx;r<o.length&&!s;r++)s=e[o[r]+"RequestAnimationFrame"],a=a||e[o[r]+"CancelAnimationFrame"]||e[o[r]+"CancelRequestAnimationFrame"];s?(e.requestAnimationFrame=s,e.cancelAnimationFrame=a,l&&(t.fx.timer=function(e){e()&&t.timers.push(e)&&!n&&(n=!0,i())},t.fx.stop=function(){n=!1})):(e.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-r)),o=e.setTimeout((function(){t(i+n)}),n);return r=i+n,o},e.cancelAnimationFrame=function(t){clearTimeout(t)})}(t),e.Foundation={name:"Foundation",version:"5.5.1",media_queries:{small:s(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":s(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:s(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":s(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:s(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":s(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:s(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":s(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:s(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:t("<style></style>").appendTo("head")[0].sheet,global:{namespace:void 0},init:function(t,i,n,r,o){var a=[t,n,r,o],l=[];if(this.rtl=/rtl/i.test(s("html").attr("dir")),this.scope=t||this.scope,this.set_namespace(),i&&"string"==typeof i&&!/reflow/i.test(i))this.libs.hasOwnProperty(i)&&l.push(this.init_lib(i,a));else for(var h in this.libs)l.push(this.init_lib(h,i));return s(e).load((function(){s(e).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")})),t},init_lib:function(e,i){return this.libs.hasOwnProperty(e)?(this.patch(this.libs[e]),i&&i.hasOwnProperty(e)?(void 0!==this.libs[e].settings?t.extend(!0,this.libs[e].settings,i[e]):void 0!==this.libs[e].defaults&&t.extend(!0,this.libs[e].defaults,i[e]),this.libs[e].init.apply(this.libs[e],[this.scope,i[e]])):(i=i instanceof Array?i:new Array(i),this.libs[e].init.apply(this.libs[e],i))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=a,t.add_namespace=l,t.bindings=h,t.S=this.utils.S},inherit:function(t,e){for(var i=e.split(" "),n=i.length;n--;)this.utils.hasOwnProperty(i[n])&&(t[i[n]]=this.utils[i[n]])},set_namespace:function(){var e=void 0===this.global.namespace?t(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=void 0===e||/false/i.test(e)?"":e},libs:{},utils:{S:s,throttle:function(t,e){var i=null;return function(){var n=this,r=arguments;null==i&&(i=setTimeout((function(){t.apply(n,r),i=null}),e))}},debounce:function(t,e,i){var n,r;return function(){var o=this,s=arguments,a=function(){n=null,i||(r=t.apply(o,s))},l=i&&!n;return clearTimeout(n),n=setTimeout(a,e),l&&(r=t.apply(o,s)),r}},data_options:function(e,i){function n(t){return!isNaN(t-0)&&null!==t&&""!==t&&!1!==t&&!0!==t}function r(e){return"string"==typeof e?t.trim(e):e}i=i||"options";var o={},s,a,l,h,u=function(t){var e=Foundation.global.namespace;return e.length>0?t.data(e+"-"+i):t.data(i)}(e);if("object"==typeof u)return u;for(s=(l=(u||":").split(";")).length;s--;)a=[(a=l[s].split(":"))[0],a.slice(1).join(":")],/true/i.test(a[1])&&(a[1]=!0),/false/i.test(a[1])&&(a[1]=!1),n(a[1])&&(-1===a[1].indexOf(".")?a[1]=parseInt(a[1],10):a[1]=parseFloat(a[1])),2===a.length&&a[0].length>0&&(o[r(a[0])]=r(a[1]));return o},register_media:function(e,i){void 0===Foundation.media_queries[e]&&(t("head").append('<meta class="'+i+'"/>'),Foundation.media_queries[e]=r(t("."+i).css("font-family")))},add_custom_rule:function(t,e){var i;void 0===e&&Foundation.stylesheet?Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length):void 0!==Foundation.media_queries[e]&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }")},image_loaded:function(t,e){var i=this,n=t.length;0===n&&e(t),t.each((function(){u(i.S(this),(function(){0===(n-=1)&&e(t)}))}))},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(t){return e.matchMedia(t).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each((function(){return Foundation.init.apply(Foundation,[this].concat(t)),this}))}}(jQuery,window,window.document),function(t,e,i,n){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.1",settings:{use_tallest:!0,before_height_change:t.noop,after_height_change:t.noop,equalize_on_stack:!1},init:function(t,e,i){Foundation.inherit(this,"image_loaded"),this.bindings(e,i),this.reflow()},events:function(){this.S(e).off(".equalizer").on("resize.fndtn.equalizer",function(t){this.reflow()}.bind(this))},equalize:function(e){var i=!1,n=e.find("["+this.attr_name()+"-watch]:visible"),r=e.data(this.attr_name(!0)+"-init");if(0!==n.length){var o=n.first().offset().top;if(r.before_height_change(),e.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),n.height("inherit"),n.each((function(){var e;t(this).offset().top!==o&&(i=!0)})),!1!==r.equalize_on_stack||!i){var s=n.map((function(){return t(this).outerHeight(!1)})).get();if(r.use_tallest){var a=Math.max.apply(null,s);n.css("height",a)}else{var l=Math.min.apply(null,s);n.css("height",l)}r.after_height_change(),e.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var e=this;this.S("["+this.attr_name()+"]",this.scope).each((function(){var i=t(this);e.image_loaded(e.S("img",this),(function(){e.equalize(i)}))}))}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.1",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(e,i,n){Foundation.inherit(this,"add_custom_rule register_media throttle");var r=this;r.register_media("topbar","foundation-mq-topbar"),this.bindings(i,n),r.S("["+this.attr_name()+"]",this.scope).each((function(){var e=t(this),i=e.data(r.attr_name(!0)+"-init"),n=r.S("section, .top-bar-section",this);e.data("index",0);var o=e.parent();o.hasClass("fixed")||r.is_sticky(e,o,i)?(r.settings.sticky_class=i.sticky_class,r.settings.sticky_topbar=e,e.data("height",o.outerHeight()),e.data("stickyoffset",o.offset().top)):e.data("height",e.outerHeight()),i.assembled||r.assemble(e),i.is_hover?r.S(".has-dropdown",e).addClass("not-click"):r.S(".has-dropdown",e).removeClass("not-click"),r.add_custom_rule(".f-topbar-fixed { padding-top: "+e.data("height")+"px }"),o.hasClass("fixed")&&r.S("body").addClass("f-topbar-fixed")}))},is_sticky:function(t,e,i){var n=e.hasClass(i.sticky_class),r=matchMedia(Foundation.media_queries.small).matches,o=matchMedia(Foundation.media_queries.medium).matches,s=matchMedia(Foundation.media_queries.large).matches;return!(!n||"all"!==i.sticky_on)||(!(!(n&&this.small()&&-1!==i.sticky_on.indexOf("small")&&r)||o||s)||(!(!(n&&this.medium()&&-1!==i.sticky_on.indexOf("medium")&&r&&o)||s)||(!!(n&&this.large()&&-1!==i.sticky_on.indexOf("large")&&r&&o&&s)||!(!n||!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)))))},toggle:function(i){var n=this,r,o=(r=i?this.S(i).closest("["+this.attr_name()+"]"):this.S("["+this.attr_name()+"]")).data(this.attr_name(!0)+"-init"),s=this.S("section, .top-bar-section",r);this.breakpoint()&&(this.rtl?(s.css({right:"0%"}),t(">.name",s).css({right:"100%"})):(s.css({left:"0%"}),t(">.name",s).css({left:"100%"})),this.S("li.moved",s).removeClass("moved"),r.data("index",0),r.toggleClass("expanded").css("height","")),o.scrolltop?r.hasClass("expanded")?r.parent().hasClass("fixed")&&(o.scrolltop?(r.parent().removeClass("fixed"),r.addClass("fixed"),this.S("body").removeClass("f-topbar-fixed"),e.scrollTo(0,0)):r.parent().removeClass("expanded")):r.hasClass("fixed")&&(r.parent().addClass("fixed"),r.removeClass("fixed"),this.S("body").addClass("f-topbar-fixed")):(this.is_sticky(r,r.parent(),o)&&r.parent().addClass("fixed"),r.parent().hasClass("fixed")&&(r.hasClass("expanded")?(r.addClass("fixed"),r.parent().addClass("expanded"),this.S("body").addClass("f-topbar-fixed")):(r.removeClass("fixed"),r.parent().removeClass("expanded"),this.update_sticky_positioning())))},timer:null,events:function(i){var n=this,r=this.S;r(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",(function(t){t.preventDefault(),n.toggle(this)})).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',(function(e){var i=t(this).closest("li");!n.breakpoint()||i.hasClass("back")||i.hasClass("has-dropdown")||n.toggle()})).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",(function(e){var i=r(this),o=r(e.target),s,a=i.closest("["+n.attr_name()+"]").data(n.attr_name(!0)+"-init");o.data("revealId")?n.toggle():n.breakpoint()||a.is_hover&&!Modernizr.touch||(e.stopImmediatePropagation(),i.hasClass("hover")?(i.removeClass("hover").find("li").removeClass("hover"),i.parents("li.hover").removeClass("hover")):(i.addClass("hover"),t(i).siblings().removeClass("hover"),"A"===o[0].nodeName&&o.parent().hasClass("has-dropdown")&&e.preventDefault()))})).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",(function(t){if(n.breakpoint()){t.preventDefault();var e=r(this),i=e.closest("["+n.attr_name()+"]"),o=i.find("section, .top-bar-section"),s=e.next(".dropdown").outerHeight(),a=e.closest("li");i.data("index",i.data("index")+1),a.addClass("moved"),n.rtl?(o.css({right:-100*i.data("index")+"%"}),o.find(">.name").css({right:100*i.data("index")+"%"})):(o.css({left:-100*i.data("index")+"%"}),o.find(">.name").css({left:100*i.data("index")+"%"})),i.css("height",e.siblings("ul").outerHeight(!0)+i.data("height"))}})),r(e).off(".topbar").on("resize.fndtn.topbar",n.throttle((function(){n.resize.call(n)}),50)).trigger("resize").trigger("resize.fndtn.topbar").load((function(){r(this).trigger("resize.fndtn.topbar")})),r("body").off(".topbar").on("click.fndtn.topbar",(function(t){var e;r(t.target).closest("li").closest("li.hover").length>0||r("["+n.attr_name()+"] li.hover").removeClass("hover")})),r(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",(function(t){t.preventDefault();var e=r(this),i=e.closest("["+n.attr_name()+"]"),o=i.find("section, .top-bar-section"),s=i.data(n.attr_name(!0)+"-init"),a=e.closest("li.moved"),l=a.parent();i.data("index",i.data("index")-1),n.rtl?(o.css({right:-100*i.data("index")+"%"}),o.find(">.name").css({right:100*i.data("index")+"%"})):(o.css({left:-100*i.data("index")+"%"}),o.find(">.name").css({left:100*i.data("index")+"%"})),0===i.data("index")?i.css("height",""):i.css("height",l.outerHeight(!0)+i.data("height")),setTimeout((function(){a.removeClass("moved")}),300)})),r(this.scope).find(".dropdown a").focus((function(){t(this).parents(".has-dropdown").addClass("hover")})).blur((function(){t(this).parents(".has-dropdown").removeClass("hover")}))},resize:function(){var t=this;t.S("["+this.attr_name()+"]").each((function(){var e=t.S(this),n=e.data(t.attr_name(!0)+"-init"),r=e.parent("."+t.settings.sticky_class),o;if(!t.breakpoint()){var s=e.hasClass("expanded");e.css("height","").removeClass("expanded").find("li").removeClass("hover"),s&&t.toggle(e)}t.is_sticky(e,r,n)&&(r.hasClass("fixed")?(r.removeClass("fixed"),o=r.offset().top,t.S(i.body).hasClass("f-topbar-fixed")&&(o-=e.data("height")),e.data("stickyoffset",o),r.addClass("fixed")):(o=r.offset().top,e.data("stickyoffset",o)))}))},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(e){var i=this,n=e.data(this.attr_name(!0)+"-init"),r=i.S("section, .top-bar-section",e);r.detach(),i.S(".has-dropdown>a",r).each((function(){var e=i.S(this),r=e.siblings(".dropdown"),o=e.attr("href"),s;r.find(".title.back").length||(s=1==n.mobile_show_parent_link&&o?t('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-large-up"><a class="parent-link js-generated" href="'+o+'">'+e.html()+"</a></li>"):t('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),1==n.custom_back_text?t("h5>a",s).html(n.back_text):t("h5>a",s).html("&laquo; "+e.html()),r.prepend(s))})),r.appendTo(e),this.sticky(),this.assembled(e)},assembled:function(e){e.data(this.attr_name(!0),t.extend({},e.data(this.attr_name(!0)),{assembled:!0}))},height:function(e){var i=0,n=this;return t("> li",e).each((function(){i+=n.S(this).outerHeight(!0)})),i},sticky:function(){var t=this;this.S(e).on("scroll",(function(){t.update_sticky_positioning()}))},update_sticky_positioning:function(){var t="."+this.settings.sticky_class,i=this.S(e),n=this;if(this.settings.sticky_topbar&&this.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var r=this.settings.sticky_topbar.data("stickyoffset");this.S(t).hasClass("expanded")||(i.scrollTop()>r?this.S(t).hasClass("fixed")||(this.S(t).addClass("fixed"),this.S("body").addClass("f-topbar-fixed")):i.scrollTop()<=r&&this.S(t).hasClass("fixed")&&(this.S(t).removeClass("fixed"),this.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(e).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.3.0",settings:{use_tallest:!0,before_height_change:t.noop,after_height_change:t.noop,equalize_on_stack:!1},init:function(t,e,i){Foundation.inherit(this,"image_loaded"),this.bindings(e,i),this.reflow()},events:function(){this.S(e).off(".equalizer").on("resize.fndtn.equalizer",function(t){this.reflow()}.bind(this))},equalize:function(e){var i=!1,n=e.find("["+this.attr_name()+"-watch]:visible"),r=e.data(this.attr_name(!0)+"-init");if(0!==n.length){var o=n.first().offset().top;if(r.before_height_change(),e.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),n.height("inherit"),n.each((function(){var e;t(this).offset().top!==o&&(i=!0)})),!1!==r.equalize_on_stack||!i){var s=n.map((function(){return t(this).outerHeight(!1)})).get();if(r.use_tallest){var a=Math.max.apply(null,s);n.css("height",a)}else{var l=Math.min.apply(null,s);n.css("height",l)}r.after_height_change(),e.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var e=this;this.S("["+this.attr_name()+"]",this.scope).each((function(){var i=t(this);e.image_loaded(e.S("img",this),(function(){e.equalize(i)}))}))}}}(jQuery,window,window.document),$(document).foundation(),function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice,i,n;i=this,n=function(i,n){var r,o,s,a,l,h,u,c,p,f,d,m,g,v,y,_;return r=i(n),c=t.call(n,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,u={},h="waypoints-context-id",d="resize.waypoints",m="scroll.waypoints",g=1,v="waypoints-waypoint-ids",y="waypoint",_="waypoints",o=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[h]=this.id,u[this.id]=this,t.bind(m,(function(){var t;if(!e.didScroll&&!c)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},n.setTimeout(t,i[_].settings.scrollThrottle)})),t.bind(d,(function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return i[_]("refresh"),e.didResize=!1},n.setTimeout(t,i[_].settings.resizeThrottle)}))}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!c||t.vertical.oldScroll&&t.vertical.newScroll||i[_]("refresh"),i.each(t,(function(t,n){var r,o,s;return s=[],o=n.newScroll>n.oldScroll,r=o?n.forward:n.backward,i.each(e.waypoints[t],(function(t,e){var i,r;return n.oldScroll<(i=e.offset)&&i<=n.newScroll||n.newScroll<(r=e.offset)&&r<=n.oldScroll?s.push(e):void 0})),s.sort((function(t,e){return t.offset-e.offset})),o||s.reverse(),i.each(s,(function(t,e){if(e.options.continuous||t===s.length-1)return e.trigger([r])}))})),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,n,r=this;return n=i.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:n?0:e.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:e.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?i[_]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},i.each(t,(function(t,e){return i.each(r.waypoints[t],(function(t,n){var r,o,s,a,l;if(r=n.options.offset,s=n.offset,o=i.isWindow(n.element)?0:n.$element.offset()[e.offsetProp],i.isFunction(r)?r=r.apply(n.element):"string"==typeof r&&(r=parseFloat(r),n.options.offset.indexOf("%")>-1&&(r=Math.ceil(e.contextDimension*r/100))),n.offset=o-e.contextOffset+e.contextScroll-r,(!n.options.onlyOnScroll||null==s)&&n.enabled)return null!==s&&s<(a=e.oldScroll)&&a<=n.offset?n.trigger([e.backward]):null!==s&&s>(l=e.oldScroll)&&l>=n.offset||null===s&&e.oldScroll>=n.offset?n.trigger([e.forward]):void 0}))}))},t.prototype.checkEmpty=function(){if(i.isEmptyObject(this.waypoints.horizontal)&&i.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([d,m].join(" ")),delete u[this.id]},t}(),s=function(){function t(t,e,n){var r,o;"bottom-in-view"===(n=i.extend({},i.fn[y].defaults,n)).offset&&(n.offset=function(){var t;return t=i[_]("viewportHeight"),i.isWindow(e.element)||(t=e.$element.height()),t-i(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=n.horizontal?"horizontal":"vertical",this.callback=n.handler,this.context=e,this.enabled=n.enabled,this.id="waypoints"+g++,this.offset=null,this.options=n,e.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,(r=null!=(o=this.element[v])?o:[]).push(this.id),this.element[v]=r}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,n;return(n=t[v])?(e=i.extend({},a.horizontal,a.vertical),i.map(n,(function(t){return e[t]}))):[]},t}(),f={init:function(t,e){var n;return null==e&&(e={}),null==(n=e.handler)&&(e.handler=t),this.each((function(){var t,n,r,a;return t=i(this),r=null!=(a=e.context)?a:i.fn[y].defaults.context,i.isWindow(r)||(r=t.closest(r)),r=i(r),(n=u[r[0][h]])||(n=new o(r)),new s(t,n,e)})),i[_]("refresh"),this},disable:function(){return f._invoke.call(this,"disable")},enable:function(){return f._invoke.call(this,"enable")},destroy:function(){return f._invoke.call(this,"destroy")},prev:function(t,e){return f._traverse.call(this,t,e,(function(t,e,i){if(e>0)return t.push(i[e-1])}))},next:function(t,e){return f._traverse.call(this,t,e,(function(t,e,i){if(e<i.length-1)return t.push(i[e+1])}))},_traverse:function(t,e,r){var o,s;return null==t&&(t="vertical"),null==e&&(e=n),s=p.aggregate(e),o=[],this.each((function(){var e;return e=i.inArray(this,s[t]),r(o,e,s[t])})),this.pushStack(o)},_invoke:function(t){return this.each((function(){var e;return e=s.getWaypointsByElement(this),i.each(e,(function(e,i){return i[t](),!0}))})),this}},i.fn[y]=function(t){var n,r;return r=t,n=2<=arguments.length?e.call(arguments,1):[],f[r]?f[r].apply(this,n):i.isFunction(r)?f.init.apply(this,arguments):i.isPlainObject(r)?f.init.apply(this,[null,r]):r?i.error("The "+r+" method does not exist in jQuery Waypoints."):i.error("jQuery Waypoints needs a callback function or handler option.")},i.fn[y].defaults={context:n,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},p={refresh:function(){return i.each(u,(function(t,e){return e.refresh()}))},viewportHeight:function(){var t;return null!=(t=n.innerHeight)?t:r.height()},aggregate:function(t){var e,n,r;return e=a,t&&(e=null!=(r=u[i(t)[0][h]])?r.waypoints:void 0),e?(n={horizontal:[],vertical:[]},i.each(n,(function(t,r){return i.each(e[t],(function(t,e){return r.push(e)})),r.sort((function(t,e){return t.offset-e.offset})),n[t]=i.map(r,(function(t){return t.element})),n[t]=i.unique(n[t])})),n):[]},above:function(t){return null==t&&(t=n),p._filter(t,"vertical",(function(t,e){return e.offset<=t.oldScroll.y}))},below:function(t){return null==t&&(t=n),p._filter(t,"vertical",(function(t,e){return e.offset>t.oldScroll.y}))},left:function(t){return null==t&&(t=n),p._filter(t,"horizontal",(function(t,e){return e.offset<=t.oldScroll.x}))},right:function(t){return null==t&&(t=n),p._filter(t,"horizontal",(function(t,e){return e.offset>t.oldScroll.x}))},enable:function(){return p._invoke("enable")},disable:function(){return p._invoke("disable")},destroy:function(){return p._invoke("destroy")},extendFn:function(t,e){return f[t]=e},_invoke:function(t){var e;return e=i.extend({},a.vertical,a.horizontal),i.each(e,(function(e,i){return i[t](),!0}))},_filter:function(t,e,n){var r,o;return(r=u[i(t)[0][h]])?(o=[],i.each(r.waypoints[e],(function(t,e){if(n(r,e))return o.push(e)})),o.sort((function(t,e){return t.offset-e.offset})),i.map(o,(function(t){return t.element}))):[]}},i[_]=function(t){var i,n;return n=t,i=2<=arguments.length?e.call(arguments,1):[],p[n]?p[n].apply(null,i):p.aggregate.call(null,n)},i[_].settings={resizeThrottle:100,scrollThrottle:30},r.load((function(){return i[_]("refresh")}))},"function"==typeof define&&define.amd?define("waypoints",["jquery"],(function(t){return n(t,i)})):n(i.jQuery,i)}.call(this),$((function(){function t(){if(n){r=!0;var t=0,o=$("#load-posts-area").children().length,s=function(){t++;var a=o+t;a>n.length-1?i():t<6?e(a,s):r=!1};e(o+t,s)}}function e(t,e){var i=n[t];$.get(i,(function(t){$(t).find(".post").appendTo("#load-posts-area").fadeIn();var i=0;$(".post").each((function(){i=$(this).height()>i?$(this).height():i})),$(".post").css({display:"block"}),$(".post").css({height:"275px"}),e()}))}function i(){o=!1,r=!1,$(".infinite-spinner").fadeOut(),$("#load-posts").fadeOut(),$("#goto-posts").fadeIn()}var n,r=!1,o=!0,s=6,a=18;$.getJSON("/all-posts.json",(function(t){(n=t.posts).length<=6&&i()})),$("#load-posts").click((function(){t()}));var l=0;$(".post").each((function(){l=$(this).height()>l?$(this).height():l})),$(".post").css({height:l+20})})),$(document).ready((function(){$((function(){var t;$.getJSON("/film-roles.json",(function(t){var e=t.entries,i=e[Math.floor(Math.random()*e.length)];i.current=5;var n="<h1>Film Role•a•dex</h1>";n+="<article>",n+="<h1 class=film-credits-title>"+i.Credit+"</h1>",n+='<h2 class="film-credits-description">'+i.Definition+"</h2>",n+='<div class="film-credits-nav clearfix">',n+='<a role="button" href="'+i.Link+'">See example</a>',n+="</div>",n+="</article>",$("#film-credits").append(n)}))}))})),function(t,e,n,r){function o(e,i){this.element=e,this.options=t.extend({},h,i),this._defaults=h,this._name=l,this.init()}function s(){return!!("ontouchstart"in e)}function a(){var t,e=(n.body||n.documentElement).style,i="transition";if("string"==typeof e[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<v.length;r++)if("string"==typeof e[v[r]+i])return!0;return!1}var l="tooltipster",h={animation:"fade",arrow:!0,arrowColor:"",content:"",delay:200,fixedWidth:0,maxWidth:0,functionBefore:function(t,e){e()},functionReady:function(t,e){},functionAfter:function(t){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!0,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},u=!0;a()||(u=!1);var c=s();t(e).on("mousemove.tooltipster",(function(){c=!1,t(e).off("mousemove.tooltipster")})),o.prototype={init:function(){var e=t(this.element),i=this,o=!0;if(0==i.options.touchDevices&&c&&(o=!1),n.all&&!n.querySelector&&(o=!1),1==o){if(1==this.options.iconDesktop&&!c||1==this.options.iconTouch&&c){var s=e.attr("title");e.removeAttr("title");var a=i.options.iconTheme,l=t('<span class="'+a.replace(".","")+'" title="'+s+'">'+this.options.icon+"</span>");l.insertAfter(e),e.data("tooltipsterIcon",l),e=l}var h=t.trim(i.options.content).length>0?i.options.content:e.attr("title");e.data("tooltipsterContent",h),e.removeAttr("title"),1!=this.options.touchDevices||!c||"click"!=this.options.trigger&&"hover"!=this.options.trigger?("hover"==this.options.trigger&&(e.on("mouseenter.tooltipster",(function(){i.showTooltip()})),1==this.options.interactive?e.on("mouseleave.tooltipster",(function(){var t=e.data("tooltipster"),n=!1;if(t!==r&&""!==t){t.mouseenter((function(){n=!0})),t.mouseleave((function(){n=!1}));var o=setTimeout((function(){1==n&&t.mouseleave((function(){}))}),i.options.interactiveTolerance)}})):e.on("mouseleave.tooltipster",(function(){}))),"click"==this.options.trigger&&e.on("click.tooltipster",(function(){""==e.data("tooltipster")||e.data("tooltipster")==r?i.showTooltip():i.hideTooltip()}))):e.bind("touchstart",(function(t,e){i.showTooltip()}))}},showTooltip:function(e){var i=t(this.element),n=this;i.data("tooltipsterIcon")!==r&&(i=i.data("tooltipsterIcon")),i.hasClass("tooltipster-disable")||(t(".tooltipster-base").not(".tooltipster-dying").length>0&&1==n.options.onlyOne&&t(".tooltipster-base").not(".tooltipster-dying").not(i.data("tooltipster")).each((function(){var e;t(this).addClass("tooltipster-kill"),t(this).data("origin").data("plugin_tooltipster").hideTooltip()})),i.clearQueue().delay(n.options.delay).queue((function(){n.options.functionBefore(i,(function(){if(i.data("tooltipster")!==r&&""!==i.data("tooltipster")){var e;if(!(e=i.data("tooltipster")).hasClass("tooltipster-kill")){var o="tooltipster-"+n.options.animation;if(e.removeClass("tooltipster-dying"),1==u&&e.clearQueue().addClass(o+"-show"),n.options.timer>0){var s=e.data("tooltipsterTimer");clearTimeout(s),s=setTimeout((function(){e.data("tooltipsterTimer",r),n.hideTooltip()}),n.options.timer),e.data("tooltipsterTimer",s)}1==n.options.touchDevices&&c&&t("body").bind("touchstart",(function(e){if(1==n.options.interactive){var i=t(e.target),r=!0;i.parents().each((function(){t(this).hasClass("tooltipster-base")&&(r=!1)})),1==r&&(n.hideTooltip(),t("body").unbind("touchstart"))}else n.hideTooltip(),t("body").unbind("touchstart")}))}}else{t("body").css("overflow-x","hidden")
;var l=i.data("tooltipsterContent"),h,p=n.options.theme.replace(".",""),o="tooltipster-"+n.options.animation,f="-webkit-transition-duration: "+n.options.speed+"ms; -webkit-animation-duration: "+n.options.speed+"ms; -moz-transition-duration: "+n.options.speed+"ms; -moz-animation-duration: "+n.options.speed+"ms; -o-transition-duration: "+n.options.speed+"ms; -o-animation-duration: "+n.options.speed+"ms; -ms-transition-duration: "+n.options.speed+"ms; -ms-animation-duration: "+n.options.speed+"ms; transition-duration: "+n.options.speed+"ms; animation-duration: "+n.options.speed+"ms;",d=n.options.fixedWidth>0?"width:"+n.options.fixedWidth+"px;":"",m=n.options.maxWidth>0?"max-width:"+n.options.maxWidth+"px;":"",g=1==n.options.interactive?"pointer-events: auto;":"",e=t('<div class="tooltipster-base '+p+" "+o+'" style="'+d+" "+m+" "+g+" "+f+'"></div>'),v=t('<div class="tooltipster-content"></div>');v.html(l),e.append(v),e.appendTo("body"),i.data("tooltipster",e),e.data("origin",i),n.positionTooltip(),n.options.functionReady(i,e),1==u?e.addClass(o+"-show"):e.css("display","none").removeClass(o).fadeIn(n.options.speed);var y=l,_=setInterval((function(){var r=i.data("tooltipsterContent");0==t("body").find(i).length?(e.addClass("tooltipster-dying"),n.hideTooltip()):y!==r&&""!==r&&(y=r,e.find(".tooltipster-content").html(r),1==n.options.updateAnimation&&(a()?(e.css({width:"","-webkit-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout((function(){e.removeClass("tooltipster-content-changing"),setTimeout((function(){e.css({"-webkit-transition":n.options.speed+"ms","-moz-transition":n.options.speed+"ms","-o-transition":n.options.speed+"ms","-ms-transition":n.options.speed+"ms",transition:n.options.speed+"ms"})}),n.options.speed)}),n.options.speed)):e.fadeTo(n.options.speed,.5,(function(){e.fadeTo(n.options.speed,1)}))),n.positionTooltip()),0!=t("body").find(e).length&&0!=t("body").find(i).length||clearInterval(_)}),200);if(n.options.timer>0){var s=setTimeout((function(){e.data("tooltipsterTimer",r),n.hideTooltip()}),n.options.timer+n.options.speed);e.data("tooltipsterTimer",s)}1==n.options.touchDevices&&c&&t("body").bind("touchstart",(function(e){if(1==n.options.interactive){var i=t(e.target),r=!0;i.parents().each((function(){t(this).hasClass("tooltipster-base")&&(r=!1)})),1==r&&(n.hideTooltip(),t("body").unbind("touchstart"))}else n.hideTooltip(),t("body").unbind("touchstart")})),e.mouseleave((function(){}))}})),i.dequeue()})))},hideTooltip:function(e){var i=t(this.element),n=this;i.data("tooltipsterIcon")!==r&&(i=i.data("tooltipsterIcon"));var o=i.data("tooltipster");if(o==r&&(o=t(".tooltipster-dying")),i.clearQueue(),o!==r&&""!==o){var s=o.data("tooltipsterTimer");s!==r&&clearTimeout(s);var a="tooltipster-"+n.options.animation;1==u?o.clearQueue().removeClass(a+"-show").addClass("tooltipster-dying").delay(n.options.speed).queue((function(){o.remove(),i.data("tooltipster",""),t("body").css("verflow-x",""),n.options.functionAfter(i)})):o.clearQueue().addClass("tooltipster-dying").fadeOut(n.options.speed,(function(){o.remove(),i.data("tooltipster",""),t("body").css("verflow-x",""),n.options.functionAfter(i)}))}},positionTooltip:function(n){var o=t(this.element),s=this;if(o.data("tooltipsterIcon")!==r&&(o=o.data("tooltipsterIcon")),o.data("tooltipster")!==r&&""!==o.data("tooltipster")){var a=o.data("tooltipster");a.css("width","");var l=t(e).width(),h=o.outerWidth(!1),u=o.outerHeight(!1),c=a.outerWidth(!1),p=a.innerWidth()+1,f=a.outerHeight(!1),d=o.offset(),m=d.top,g=d.left,v=r;if(o.is("area")){var y=o.attr("shape"),_=o.parent().attr("name"),b=t('img[usemap="#'+_+'"]'),w=b.offset().left,x=b.offset().top,S=o.attr("coords")!==r?o.attr("coords").split(","):r;if("circle"==y){var k=parseInt(S[0]),T=parseInt(S[1]),$=parseInt(S[2]);u=2*$,h=2*$,m=x+T-$,g=w+k-$}else if("rect"==y){var k=parseInt(S[0]),T=parseInt(S[1]),z=parseInt(S[2]),C=parseInt(S[3]);u=C-T,h=z-k,m=x+T,g=w+k}else if("poly"==y){var A=[],O=[],E=0,I=0,P=0,F=0,q="even";for(i=0;i<S.length;i++){var L=parseInt(S[i]);"even"==q?(L>P&&(P=L,0==i&&(E=P)),L<E&&(E=L),q="odd"):(L>F&&(F=L,1==i&&(I=F)),L<I&&(I=L),q="even")}u=F-I,h=P-E,m=x+I,g=w+E}else u=b.outerHeight(!1),h=b.outerWidth(!1),m=x,g=w}0==s.options.fixedWidth&&a.css({width:p+"px","padding-left":"0px","padding-right":"0px"});var Q=0,R=0,j=parseInt(s.options.offsetY),U=parseInt(s.options.offsetX),H="",W,W;function N(){var i=t(e).scrollLeft();if(Q-i<0){var n=Q-i;Q=i,a.data("arrow-reposition",n)}if(Q+c-i>l){var n=Q-(l+i-c);Q=l+i-c,a.data("arrow-reposition",n)}}function D(i,n){m-t(e).scrollTop()-f-j-12<0&&n.indexOf("top")>-1&&(s.options.position=i,v=n),m+u+f+12+j>t(e).scrollTop()+t(e).height()&&n.indexOf("bottom")>-1&&(s.options.position=i,v=n,R=m-f-j-12)}if("top"==s.options.position)Q=g+U-(W=g+c-(g+h))/2,R=m-f-j-12,N(),D("bottom","top");if("top-left"==s.options.position&&(Q=g+U,R=m-f-j-12,N(),D("bottom-left","top-left")),"top-right"==s.options.position&&(Q=g+h+U-c,R=m-f-j-12,N(),D("bottom-right","top-right")),"bottom"==s.options.position)Q=g-(W=g+c-(g+h))/2+U,R=m+u+j+12,N(),D("top","bottom");if("bottom-left"==s.options.position&&(Q=g+U,R=m+u+j+12,N(),D("top-left","bottom-left")),"bottom-right"==s.options.position&&(Q=g+h+U-c,R=m+u+j+12,N(),D("top-right","bottom-right")),"left"==s.options.position){Q=g-U-c-12,myLeftMirror=g+U+h+12;var M=m+f-(m+o.outerHeight(!1));if(R=m-M/2-j,Q<0&&myLeftMirror+c>l){var B=2*parseFloat(a.css("border-width")),V=c+Q-B;a.css("width",V+"px"),f=a.outerHeight(!1),Q=g-U-V-12-B,M=m+f-(m+o.outerHeight(!1)),R=m-M/2-j}else Q<0&&(Q=g+U+h+12,a.data("arrow-reposition","left"))}if("right"==s.options.position){Q=g+U+h+12,myLeftMirror=g-U-c-12;var M=m+f-(m+o.outerHeight(!1));if(R=m-M/2-j,Q+c>l&&myLeftMirror<0){var B=2*parseFloat(a.css("border-width")),V=l-Q-B;a.css("width",V+"px"),f=a.outerHeight(!1),M=m+f-(m+o.outerHeight(!1)),R=m-M/2-j}else Q+c>l&&(Q=g-U-c-12,a.data("arrow-reposition","right"))}if(1==s.options.arrow){var J="tooltipster-arrow-"+s.options.position;if(s.options.arrowColor.length<1)var Z=a.css("background-color");else var Z=s.options.arrowColor;var K=a.data("arrow-reposition");if(K?"left"==K?(J="tooltipster-arrow-right",K=""):"right"==K?(J="tooltipster-arrow-left",K=""):K="left:"+K+"px;":K="","top"==s.options.position||"top-left"==s.options.position||"top-right"==s.options.position)var G=parseFloat(a.css("border-bottom-width")),X=a.css("border-bottom-color");else if("bottom"==s.options.position||"bottom-left"==s.options.position||"bottom-right"==s.options.position)var G=parseFloat(a.css("border-top-width")),X=a.css("border-top-color");else if("left"==s.options.position)var G=parseFloat(a.css("border-right-width")),X=a.css("border-right-color");else if("right"==s.options.position)var G=parseFloat(a.css("border-left-width")),X=a.css("border-left-color");else var G=parseFloat(a.css("border-bottom-width")),X=a.css("border-bottom-color");G>1&&G++;var Y="";if(0!==G){var tt="",et="border-color: "+X+";";-1!==J.indexOf("bottom")?tt="margin-top: -"+G+"px;":-1!==J.indexOf("top")?tt="margin-bottom: -"+G+"px;":-1!==J.indexOf("left")?tt="margin-right: -"+G+"px;":-1!==J.indexOf("right")&&(tt="margin-left: -"+G+"px;"),Y='<span class="tooltipster-arrow-border" style="'+tt+" "+et+';"></span>'}a.find(".tooltipster-arrow").remove(),H='<div class="'+J+' tooltipster-arrow" style="'+K+'">'+Y+'<span style="border-color:'+Z+';"></span></div>',a.append(H)}a.css({top:R+"px",left:Q+"px"}),v!==r&&(s.options.position=v)}}},t.fn[l]=function(e,i){if("string"==typeof e){var n=this,s=i;if(n.data("plugin_tooltipster")==r){var a=n.find("*");n=t(),a.each((function(){t(this).data("plugin_tooltipster")!==r&&n.push(t(this))}))}return n.each((function(){switch(e.toLowerCase()){case"show":t(this).data("plugin_tooltipster").showTooltip();break;case"hide":t(this).data("plugin_tooltipster").hideTooltip();break;case"disable":t(this).addClass("tooltipster-disable");break;case"enable":t(this).removeClass("tooltipster-disable");break;case"destroy":t(this).data("plugin_tooltipster").hideTooltip(),t(this).data("plugin_tooltipster","").attr("title",n.data("tooltipsterContent")).data("tooltipsterContent","").data("plugin_tooltipster","").off("mouseenter.tooltipster mouseleave.tooltipster click.tooltipster");break;case"update":var i;if(t(this).data("tooltipsterIcon")==r)t(this).data("tooltipsterContent",s);else t(this).data("tooltipsterIcon").data("tooltipsterContent",s);break;case"reposition":t(this).data("plugin_tooltipster").positionTooltip();break}})),this}return this.each((function(){t.data(this,"plugin_"+l)||t.data(this,"plugin_"+l,new o(this,e));var i=t(this).data("plugin_tooltipster").options;if(1==i.iconDesktop&&!c||1==i.iconTouch&&c){var n=t(this).data("plugin_tooltipster");t(this).next().data("plugin_tooltipster",n)}}))},c&&e.addEventListener("orientationchange",(function(){t(".tooltipster-base").length>0&&t(".tooltipster-base").each((function(){var e;t(this).data("origin").data("plugin_tooltipster").hideTooltip()}))}),!1),t(e).on("resize.tooltipster",(function(){var e=t(".tooltipster-base").data("origin");null!==e&&e!==r&&e.tooltipster("reposition")}))}(jQuery,window,document),function(t){t.fn.contentshare=function(e){var i=t.extend({},t.fn.contentshare.defaults,e);t.extend(t.fn.contentshare,{init:function(e){t.fn.contentshare.defaults.shareable=e},getContent:function(){for(var t="",e=0;e<i.shareLinks.length;e++)t+='<a href="'+i.shareLinks[e].replace("{{text}}",this.getSelection())+'" '+(i.newTab?'target="_blank"':"")+'><i class="fa '+i.shareIcons[e]+'" '+(0!=e?'style="margin-left:5px"':"")+"></i></a>";return t},getSelection:function(e){return window.getSelection?"string"==e?encodeURIComponent(t.trim(window.getSelection().getRangeAt(0).toString())):window.getSelection().getRangeAt(0):document.selection?"string"==e?encodeURIComponent(t.trim(document.selection.createRange().text)):document.selection.createRange():void 0},showTooltip:function(){if(this.clear(),!(this.getSelection("string").length<i.minLength)){var e=this.getContent();this.preloadShareIcons(i.shareIcons);var n=this.getSelection(),r=document.createElement("span");t(r).addClass("mark"),n.surroundContents(r),t("span.mark").addClass(i.className),t("."+i.className).tooltipster({trigger:"custom",interactive:!0,content:e,animation:i.animation}),t("."+i.className).tooltipster("show")}},preloadShareIcons:function(t){for(var e=0;e<t.length;e++){var i;(new Image).src=t[e]}},clear:function(){t("."+i.className).tooltipster("hide"),t("span.mark").contents().unwrap(),t("span.mark").remove()}}),t.fn.contentshare.init(this)},t.fn.contentshare.defaults={shareable:{},shareIcons:["images/fb.png","images/tw.png"],shareLinks:["http://www.facebook.com/sharer.php?s=100&p[url]="+document.URL+"&p[title]="+document.title+"&p[summary]={{text}}","http://twitter.com/intent/tweet?text={{text}}"],minLength:1,newTab:!0,className:"contentshare",animation:"grow"}}(jQuery),function(t,e,i,n){function r(e,i){this.element=e,this.options=t.extend({},s,i),this._defaults=s,this._name=o,this.init()}var o="stellar",s={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},a={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,e){t.scrollLeft(e)},getTop:function(t){return t.scrollTop()},setTop:function(t,e){t.scrollTop(e)}},position:{getLeft:function(t){return-1*parseInt(t.css("left"),10)},getTop:function(t){return-1*parseInt(t.css("top"),10)}},margin:{getLeft:function(t){return-1*parseInt(t.css("margin-left"),10)},getTop:function(t){return-1*parseInt(t.css("margin-top"),10)}},transform:{getLeft:function(t){var e=getComputedStyle(t[0])[u];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(t){var e=getComputedStyle(t[0])[u];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[5],10):0}}},l={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,i,n,r){t[0].style[u]="translate3d("+(e-i)+"px, "+(n-r)+"px, 0)"}}},h,u=function(){var e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,i=t("script")[0].style,n="",r;for(r in i)if(e.test(r)){n=r.match(e)[0];break}return"WebkitOpacity"in i&&(n="Webkit"),"KhtmlOpacity"in i&&(n="Khtml"),function(t){return n+(n.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}()("transform"),c=t("<div />",{style:"background:#fff"}).css("background-position-x")!==n,p=c?function(t,e,i){t.css({"background-position-x":e,"background-position-y":i})}:function(t,e,i){t.css("background-position",e+" "+i)},f=c?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},d=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};r.prototype={init:function(){this.options.name=o+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===i.body&&(this.element=e),this.$scrollElement=t(this.element),this.$element=this.element===e?t("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==n?t(this.options.viewportElement):this.$scrollElement[0]===e||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,e=a[t.options.scrollProperty];this._getScrollLeft=function(){return e.getLeft(t.$scrollElement)},this._getScrollTop=function(){return e.getTop(t.$scrollElement)}},_defineSetters:function(){var e=this,i=a[e.options.scrollProperty],n=l[e.options.positionProperty],r=i.setLeft,o=i.setTop;this._setScrollLeft="function"==typeof r?function(t){r(e.$scrollElement,t)}:t.noop,this._setScrollTop="function"==typeof o?function(t){o(e.$scrollElement,t)}:t.noop,this._setPosition=n.setPosition||function(t,i,r,o,s){e.options.horizontalScrolling&&n.setLeft(t,i,r),e.options.verticalScrolling&&n.setTop(t,o,s)}},_handleWindowLoadAndResize:function(){var i=this,n=t(e);i.options.responsive&&n.bind("load."+this.name,(function(){i.refresh()})),n.bind("resize."+this.name,(function(){i._detectViewport(),i.options.responsive&&i.refresh()}))},refresh:function(i){var n=this,r=n._getScrollLeft(),o=n._getScrollTop();i&&i.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),i&&i.firstLoad&&/WebKit/.test(navigator.userAgent)&&t(e).load((function(){var t=n._getScrollLeft(),e=n._getScrollTop();n._setScrollLeft(t+1),n._setScrollTop(e+1),n._setScrollLeft(t),n._setScrollTop(e)})),this._setScrollLeft(r),this._setScrollTop(o)},_detectViewport:function(){var t=this.$viewportElement.offset(),e=null!==t&&t!==n;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=e?t.top:0,this.viewportOffsetLeft=e?t.left:0},_findParticles:function(){var e=this,i=this._getScrollLeft(),r=this._getScrollTop();if(this.particles!==n)for(var o=this.particles.length-1;o>=0;o--)this.particles[o].$element.data("stellar-elementIsActive",n);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each((function(i){var r=t(this),o,s,a,l,h,u,c,p,f,d=0,m=0,g=0,v=0;if(r.data("stellar-elementIsActive")){if(r.data("stellar-elementIsActive")!==this)return}else r.data("stellar-elementIsActive",this);e.options.showElement(r),r.data("stellar-startingLeft")?(r.css("left",r.data("stellar-startingLeft")),r.css("top",r.data("stellar-startingTop"))):(r.data("stellar-startingLeft",r.css("left")),r.data("stellar-startingTop",r.css("top"))),a=r.position().left,l=r.position().top,h="auto"===r.css("margin-left")?0:parseInt(r.css("margin-left"),10),u="auto"===r.css("margin-top")?0:parseInt(r.css("margin-top"),10),p=r.offset().left-h,f=r.offset().top-u,r.parents().each((function(){var e=t(this);return!0===e.data("stellar-offset-parent")?(d=g,m=v,c=e,!1):(g+=e.position().left,void(v+=e.position().top))})),o=r.data("stellar-horizontal-offset")!==n?r.data("stellar-horizontal-offset"):c!==n&&c.data("stellar-horizontal-offset")!==n?c.data("stellar-horizontal-offset"):e.horizontalOffset,s=r.data("stellar-vertical-offset")!==n?r.data("stellar-vertical-offset"):c!==n&&c.data("stellar-vertical-offset")!==n?c.data("stellar-vertical-offset"):e.verticalOffset,e.particles.push({$element:r,$offsetParent:c,isFixed:"fixed"===r.css("position"),horizontalOffset:o,verticalOffset:s,startingPositionLeft:a,startingPositionTop:l,startingOffsetLeft:p,startingOffsetTop:f,parentOffsetLeft:d,parentOffsetTop:m,stellarRatio:r.data("stellar-ratio")!==n?r.data("stellar-ratio"):1,width:r.outerWidth(!0),height:r.outerHeight(!0),isHidden:!1})}))},_findBackgrounds:function(){var e=this,i=this._getScrollLeft(),r=this._getScrollTop(),o;this.backgrounds=[],this.options.parallaxBackgrounds&&(o=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(o=o.add(this.$element)),o.each((function(){var o=t(this),s=f(o),a,l,h,u,c,d,m,g,v,y=0,_=0,b=0,w=0;if(o.data("stellar-backgroundIsActive")){if(o.data("stellar-backgroundIsActive")!==this)return}else o.data("stellar-backgroundIsActive",this);o.data("stellar-backgroundStartingLeft")?p(o,o.data("stellar-backgroundStartingLeft"),o.data("stellar-backgroundStartingTop")):(o.data("stellar-backgroundStartingLeft",s[0]),o.data("stellar-backgroundStartingTop",s[1])),c="auto"===o.css("margin-left")?0:parseInt(o.css("margin-left"),10),d="auto"===o.css("margin-top")?0:parseInt(o.css("margin-top"),10),m=o.offset().left-c-i,g=o.offset().top-d-r,o.parents().each((function(){var e=t(this);return!0===e.data("stellar-offset-parent")?(y=b,_=w,v=e,!1):(b+=e.position().left,void(w+=e.position().top))})),a=o.data("stellar-horizontal-offset")!==n?o.data("stellar-horizontal-offset"):v!==n&&v.data("stellar-horizontal-offset")!==n?v.data("stellar-horizontal-offset"):e.horizontalOffset,l=o.data("stellar-vertical-offset")!==n?o.data("stellar-vertical-offset"):v!==n&&v.data("stellar-vertical-offset")!==n?v.data("stellar-vertical-offset"):e.verticalOffset,e.backgrounds.push({$element:o,$offsetParent:v,isFixed:"fixed"===o.css("background-attachment"),horizontalOffset:a,verticalOffset:l,startingValueLeft:s[0],startingValueTop:s[1],startingBackgroundPositionLeft:isNaN(parseInt(s[0],10))?0:parseInt(s[0],10),startingBackgroundPositionLeftUnit:"0%"===s[0]?"px":s[0].substr((parseInt(s[0],10)+"").length),startingBackgroundPositionTop:isNaN(parseInt(s[1],10))?0:parseInt(s[1],10),startingBackgroundPositionTopUnit:"0%"===s[1]?"px":s[1].substr((parseInt(s[1],10)+"").length),startingPositionLeft:o.position().left,startingPositionTop:o.position().top,startingOffsetLeft:m,startingOffsetTop:g,parentOffsetLeft:y,parentOffsetTop:_,stellarRatio:o.data("stellar-background-ratio")===n?1:o.data("stellar-background-ratio")})})))},_reset:function(){var t,e,i,n,r;for(r=this.particles.length-1;r>=0;r--)e=(t=this.particles[r]).$element.data("stellar-startingLeft"),i=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,e,e,i,i),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(r=this.backgrounds.length-1;r>=0;r--)(n=this.backgrounds[r]).$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),p(n.$element,n.startingValueLeft,n.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=t.noop,t(e).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var i=this,n=t(e);n.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),n.bind("resize.horizontal-"+this.name,(function(){i.horizontalOffset=i.options.horizontalOffset()}))):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),n.bind("resize.vertical-"+this.name,(function(){i.verticalOffset=i.options.verticalOffset()}))):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t=this._getScrollLeft(),e=this._getScrollTop(),i,n,r,o,s,a,l,h=!0,u=!0,c,f,d,m,g;if(this.currentScrollLeft!==t||this.currentScrollTop!==e||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=t,this.currentScrollTop=e,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,g=this.particles.length-1;g>=0;g--)o=(r=this.particles[g]).isFixed?1:0,this.options.horizontalScrolling?d=(c=(t+r.horizontalOffset+this.viewportOffsetLeft+r.startingPositionLeft-r.startingOffsetLeft+r.parentOffsetLeft)*-(r.stellarRatio+o-1)+r.startingPositionLeft)-r.startingPositionLeft+r.startingOffsetLeft:(c=r.startingPositionLeft,d=r.startingOffsetLeft),this.options.verticalScrolling?m=(f=(e+r.verticalOffset+this.viewportOffsetTop+r.startingPositionTop-r.startingOffsetTop+r.parentOffsetTop)*-(r.stellarRatio+o-1)+r.startingPositionTop)-r.startingPositionTop+r.startingOffsetTop:(f=r.startingPositionTop,m=r.startingOffsetTop),this.options.hideDistantElements&&(u=!this.options.horizontalScrolling||d+r.width>(r.isFixed?0:t)&&d<(r.isFixed?0:t)+this.viewportWidth+this.viewportOffsetLeft,h=!this.options.verticalScrolling||m+r.height>(r.isFixed?0:e)&&m<(r.isFixed?0:e)+this.viewportHeight+this.viewportOffsetTop),u&&h?(r.isHidden&&(this.options.showElement(r.$element),r.isHidden=!1),this._setPosition(r.$element,c,r.startingPositionLeft,f,r.startingPositionTop)):r.isHidden||(this.options.hideElement(r.$element),r.isHidden=!0);for(g=this.backgrounds.length-1;g>=0;g--){o=(s=this.backgrounds[g]).isFixed?0:1;var v="%"===s.startingBackgroundPositionLeftUnit;a=this.options.horizontalScrolling?((t+s.horizontalOffset-this.viewportOffsetLeft-s.startingOffsetLeft+s.parentOffsetLeft-s.startingBackgroundPositionLeft*(v?0:1))*(v?100/parseInt(s.$element.css("width"),10):1)*(o-s.stellarRatio)-s.startingBackgroundPositionLeft*(v?1:0))*(v?-1:1)+s.startingBackgroundPositionLeftUnit:s.startingValueLeft;var y="%"===s.startingBackgroundPositionTopUnit;l=this.options.verticalScrolling?((e+s.verticalOffset-this.viewportOffsetTop-s.startingOffsetTop+s.parentOffsetTop-s.startingBackgroundPositionTop*(y?0:1))*(y?100/parseInt(s.$element.css("height"),10):1)*(o-s.stellarRatio)-s.startingBackgroundPositionTop*(y?1:0))*(y?-1:1)+s.startingBackgroundPositionTopUnit:s.startingValueTop,p(s.$element,a,l)}}},_handleScrollEvent:function(){var t=this,e=!1,i=function(){t._repositionElements(),e=!1},n=function(){e||(d(i),e=!0)};this.$scrollElement.bind("scroll."+this.name,n),n()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){d(t._animationLoop),t._repositionElements()},this._animationLoop()}},t.fn[o]=function(e){var i=arguments;return e===n||"object"==typeof e?this.each((function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new r(this,e))})):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each((function(){var n=t.data(this,"plugin_"+o);n instanceof r&&"function"==typeof n[e]&&n[e].apply(n,Array.prototype.slice.call(i,1)),"destroy"===e&&t.data(this,"plugin_"+o,null)})):void 0},t[o]=function(i){var n=t(e);return n.stellar.apply(n,Array.prototype.slice.call(arguments,0))},t[o].scrollProperty=a,t[o].positionProperty=l,e.Stellar=r}(jQuery,this,document);
/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 0.4.5
 * Copyright (C) 2014 Oliver Nightingale
 * MIT Licensed
 * @license
 */
var lunr=function(t){var e=new lunr.Index;return e.pipeline.add(lunr.stopWordFilter,lunr.stemmer),t&&t.call(e,e),e};lunr.version="0.4.5","undefined"!=typeof module&&(module.exports=lunr),
/*!
 * lunr.utils
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.utils={},lunr.utils.warn=function(t){return function(e){t.console&&console.warn&&console.warn(e)}}(this),lunr.utils.zeroFillArray=function(){var t=[0];return function(e){for(;t.length<e;)t=t.concat(t);return t.slice(0,e)}}(),
/*!
 * lunr.EventEmitter
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.EventEmitter=function(){this.events={}},lunr.EventEmitter.prototype.addListener=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),i=t;if("function"!=typeof e)throw new TypeError("last argument must be a function");i.forEach((function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(e)}),this)},lunr.EventEmitter.prototype.removeListener=function(t,e){if(this.hasHandler(t)){var i=this.events[t].indexOf(e);this.events[t].splice(i,1),this.events[t].length||delete this.events[t]}},lunr.EventEmitter.prototype.emit=function(t){if(this.hasHandler(t)){var e=Array.prototype.slice.call(arguments,1);this.events[t].forEach((function(t){t.apply(void 0,e)}))}},lunr.EventEmitter.prototype.hasHandler=function(t){return t in this.events},
/*!
 * lunr.tokenizer
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.tokenizer=function(t){if(!arguments.length||null==t||null==t)return[];if(Array.isArray(t))return t.map((function(t){return t.toLowerCase()}));for(var e=t.toString().replace(/^\s+/,""),i=e.length-1;i>=0;i--)if(/\S/.test(e.charAt(i))){e=e.substring(0,i+1);break}return e.split(/\s+/).map((function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"").toLowerCase()}))},
/*!
 * lunr.Pipeline
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.Pipeline=function(){this._stack=[]},lunr.Pipeline.registeredFunctions={},lunr.Pipeline.registerFunction=function(t,e){e in this.registeredFunctions&&lunr.utils.warn("Overwriting existing registered function: "+e),t.label=e,lunr.Pipeline.registeredFunctions[t.label]=t},lunr.Pipeline.warnIfFunctionNotRegistered=function(t){var e;t.label&&t.label in this.registeredFunctions||lunr.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},lunr.Pipeline.load=function(t){var e=new lunr.Pipeline;return t.forEach((function(t){var i=lunr.Pipeline.registeredFunctions[t];if(!i)throw new Error("Cannot load un-registered function: "+t);e.add(i)})),e},lunr.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach((function(t){lunr.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)}),this)},lunr.Pipeline.prototype.after=function(t,e){lunr.Pipeline.warnIfFunctionNotRegistered(e);var i=this._stack.indexOf(t)+1;this._stack.splice(i,0,e)},lunr.Pipeline.prototype.before=function(t,e){lunr.Pipeline.warnIfFunctionNotRegistered(e);var i=this._stack.indexOf(t);this._stack.splice(i,0,e)},lunr.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);this._stack.splice(e,1)},lunr.Pipeline.prototype.run=function(t){for(var e=[],i=t.length,n=this._stack.length,r=0;r<i;r++){for(var o=t[r],s=0;s<n&&void 0!==(o=this._stack[s](o,r,t));s++);void 0!==o&&e.push(o)}return e},lunr.Pipeline.prototype.toJSON=function(){return this._stack.map((function(t){return lunr.Pipeline.warnIfFunctionNotRegistered(t),t.label}))},
/*!
 * lunr.Vector
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.Vector=function(t){this.elements=t},lunr.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t=0,e=this.elements,i=e.length,n,r=0;r<i;r++)t+=(n=e[r])*n;return this._magnitude=Math.sqrt(t)},lunr.Vector.prototype.dot=function(t){for(var e=this.elements,i=t.elements,n=e.length,r=0,o=0;o<n;o++)r+=e[o]*i[o];return r},lunr.Vector.prototype.similarity=function(t){return this.dot(t)/(this.magnitude()*t.magnitude())},lunr.Vector.prototype.toArray=function(){return this.elements},
/*!
 * lunr.SortedSet
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(t){var e=new this;return e.elements=t,e.length=t.length,e},lunr.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach((function(t){~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t)}),this),this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(t,e){return this.elements.map(t,e)},lunr.SortedSet.prototype.forEach=function(t,e){return this.elements.forEach(t,e)},lunr.SortedSet.prototype.indexOf=function(t,e,i){var e=e||0,i,n=(i=i||this.elements.length)-e,r=e+Math.floor(n/2),o=this.elements[r];return n<=1?o===t?r:-1:o<t?this.indexOf(t,r,i):o>t?this.indexOf(t,e,r):o===t?r:void 0},lunr.SortedSet.prototype.locationFor=function(t,e,i){var e=e||0,i,n=(i=i||this.elements.length)-e,r=e+Math.floor(n/2),o=this.elements[r];if(n<=1){if(o>t)return r;if(o<t)return r+1}return o<t?this.locationFor(t,r,i):o>t?this.locationFor(t,e,r):void 0},lunr.SortedSet.prototype.intersect=function(t){for(var e=new lunr.SortedSet,i=0,n=0,r=this.length,o=t.length,s=this.elements,a=t.elements;!(i>r-1||n>o-1);)s[i]!==a[n]?s[i]<a[n]?i++:s[i]>a[n]&&n++:(e.add(s[i]),i++,n++);return e},lunr.SortedSet.prototype.clone=function(){var t=new lunr.SortedSet;return t.elements=this.toArray(),t.length=t.elements.length,t},lunr.SortedSet.prototype.union=function(t){var e,i,n;return this.length>=t.length?(e=this,i=t):(e=t,i=this),(n=e.clone()).add.apply(n,i.toArray()),n},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},
/*!
 * lunr.Index
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.Index=function(){this._fields=[],this._ref="id",this.pipeline=new lunr.Pipeline,this.documentStore=new lunr.Store,this.tokenStore=new lunr.TokenStore,this.corpusTokens=new lunr.SortedSet,this.eventEmitter=new lunr.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},lunr.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},lunr.Index.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e)},lunr.Index.load=function(t){t.version!==lunr.version&&lunr.utils.warn("version mismatch: current "+lunr.version+" importing "+t.version);var e=new this;return e._fields=t.fields,e._ref=t.ref,e.documentStore=lunr.Store.load(t.documentStore),e.tokenStore=lunr.TokenStore.load(t.tokenStore),e.corpusTokens=lunr.SortedSet.load(t.corpusTokens),e.pipeline=lunr.Pipeline.load(t.pipeline),e},lunr.Index.prototype.field=function(t,e){var e,i={name:t,boost:(e=e||{}).boost||1};return this._fields.push(i),this},lunr.Index.prototype.ref=function(t){return this._ref=t,this},lunr.Index.prototype.add=function(t,e){var i={},n=new lunr.SortedSet,r=t[this._ref],e=void 0===e||e;this._fields.forEach((function(e){var r=this.pipeline.run(lunr.tokenizer(t[e.name]));i[e.name]=r,lunr.SortedSet.prototype.add.apply(n,r)}),this),this.documentStore.set(r,n),lunr.SortedSet.prototype.add.apply(this.corpusTokens,n.toArray());for(var o=0;o<n.length;o++){var s=n.elements[o],a=this._fields.reduce((function(t,e){var n=i[e.name].length,r;return n?t+i[e.name].filter((function(t){return t===s})).length/n*e.boost:t}),0);this.tokenStore.add(s,{ref:r,tf:a})}e&&this.eventEmitter.emit("add",t,this)},lunr.Index.prototype.remove=function(t,e){var i=t[this._ref],e=void 0===e||e;if(this.documentStore.has(i)){var n=this.documentStore.get(i);this.documentStore.remove(i),n.forEach((function(t){this.tokenStore.remove(t,i)}),this),e&&this.eventEmitter.emit("remove",t,this)}},lunr.Index.prototype.update=function(t,e){var e=void 0===e||e;this.remove(t,!1),this.add(t,!1),e&&this.eventEmitter.emit("update",t,this)},lunr.Index.prototype.idf=function(t){var e="@"+t;if(Object.prototype.hasOwnProperty.call(this._idfCache,e))return this._idfCache[e];var i=this.tokenStore.count(t),n=1;return i>0&&(n=1+Math.log(this.tokenStore.length/i)),this._idfCache[e]=n},lunr.Index.prototype.search=function(t){var e=this.pipeline.run(lunr.tokenizer(t)),i=lunr.utils.zeroFillArray(this.corpusTokens.length),n=[],r=this._fields.reduce((function(t,e){return t+e.boost}),0),o;if(!e.some((function(t){return this.tokenStore.has(t)}),this))return[];e.forEach((function(t,e,o){var s=1/o.length*this._fields.length*r,a=this,l=this.tokenStore.expand(t).reduce((function(e,n){var r=a.corpusTokens.indexOf(n),o=a.idf(n),l=1,h=new lunr.SortedSet;if(n!==t){var u=Math.max(3,n.length-t.length);l=1/Math.log(u)}return r>-1&&(i[r]=s*o*l),Object.keys(a.tokenStore.get(n)).forEach((function(t){h.add(t)})),e.union(h)}),new lunr.SortedSet);n.push(l)}),this);var s=n.reduce((function(t,e){return t.intersect(e)})),a=new lunr.Vector(i);return s.map((function(t){return{ref:t,score:a.similarity(this.documentVector(t))}}),this).sort((function(t,e){return e.score-t.score}))},lunr.Index.prototype.documentVector=function(t){for(var e=this.documentStore.get(t),i=e.length,n=lunr.utils.zeroFillArray(this.corpusTokens.length),r=0;r<i;r++){var o=e.elements[r],s=this.tokenStore.get(o)[t].tf,a=this.idf(o);n[this.corpusTokens.indexOf(o)]=s*a}return new lunr.Vector(n)},lunr.Index.prototype.toJSON=function(){return{version:lunr.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},
/*!
 * lunr.Store
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.Store=function(){this.store={},this.length=0},lunr.Store.load=function(t){var e=new this;return e.length=t.length,e.store=Object.keys(t.store).reduce((function(e,i){return e[i]=lunr.SortedSet.load(t.store[i]),e}),{}),e},lunr.Store.prototype.set=function(t,e){this.store[t]=e,this.length=Object.keys(this.store).length},lunr.Store.prototype.get=function(t){return this.store[t]},lunr.Store.prototype.has=function(t){return t in this.store},lunr.Store.prototype.remove=function(t){this.has(t)&&(delete this.store[t],this.length--)},lunr.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},
/*!
 * lunr.stemmer
 * Copyright (C) 2014 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
lunr.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i,n="[aeiouy]",r="[^aeiou]"+"[^aeiouy]*",o=n+"[aeiou]*",s="^("+r+")?"+o+r,a="^("+r+")?"+o+r+"("+o+")?$",l="^("+r+")?"+o+r+o+r,h="^("+r+")?"+n;return function(i){var o,u,c,p,f,d,m,g,g,g,g,g;if(i.length<3)return i;if("y"==(c=i.substr(0,1))&&(i=c.toUpperCase()+i.substr(1)),f=/^(.+?)([^s])s$/,(p=/^(.+?)(ss|i)es$/).test(i)?i=i.replace(p,"$1$2"):f.test(i)&&(i=i.replace(f,"$1$2")),f=/^(.+?)(ed|ing)$/,(p=/^(.+?)eed$/).test(i)){var g=p.exec(i);(p=new RegExp(s)).test(g[1])&&(p=/.$/,i=i.replace(p,""))}else if(f.test(i)){var g;o=(g=f.exec(i))[1],(f=new RegExp(h)).test(o)&&(i=o,f=/(at|bl|iz)$/,d=new RegExp("([^aeiouylsz])\\1$"),m=new RegExp("^"+r+n+"[^aeiouwxy]$"),f.test(i)?i+="e":d.test(i)?(p=/.$/,i=i.replace(p,"")):m.test(i)&&(i+="e"))}(p=/^(.+?)y$/).test(i)&&(o=(g=p.exec(i))[1],(p=new RegExp(h)).test(o)&&(i=o+"i"));(p=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/).test(i)&&(o=(g=p.exec(i))[1],u=g[2],(p=new RegExp(s)).test(o)&&(i=o+t[u]));(p=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/).test(i)&&(o=(g=p.exec(i))[1],u=g[2],(p=new RegExp(s)).test(o)&&(i=o+e[u]));if(f=/^(.+?)(s|t)(ion)$/,(p=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/).test(i))o=(g=p.exec(i))[1],(p=new RegExp(l)).test(o)&&(i=o);else if(f.test(i)){var g;o=(g=f.exec(i))[1]+g[2],(f=new RegExp(l)).test(o)&&(i=o)}(p=/^(.+?)e$/).test(i)&&(o=(g=p.exec(i))[1],p=new RegExp(l),f=new RegExp(a),d=new RegExp("^"+r+n+"[^aeiouwxy]$"),(p.test(o)||f.test(o)&&!d.test(o))&&(i=o));return p=/ll$/,f=new RegExp(l),p.test(i)&&f.test(i)&&(p=/.$/,i=i.replace(p,"")),"y"==c&&(i=c.toLowerCase()+i.substr(1)),i}}(),lunr.Pipeline.registerFunction(lunr.stemmer,"stemmer"),
/*!
 * lunr.stopWordFilter
 * Copyright (C) 2014 Oliver Nightingale
 */
lunr.stopWordFilter=function(t){if(-1===lunr.stopWordFilter.stopWords.indexOf(t))return t},lunr.stopWordFilter.stopWords=new lunr.SortedSet,lunr.stopWordFilter.stopWords.length=119,lunr.stopWordFilter.stopWords.elements=["","a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"],lunr.Pipeline.registerFunction(lunr.stopWordFilter,"stopWordFilter"),
/*!
 * lunr.stemmer
 * Copyright (C) 2014 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
lunr.TokenStore=function(){this.root={docs:{}},this.length=0},lunr.TokenStore.load=function(t){var e=new this;return e.root=t.root,e.length=t.length,e},lunr.TokenStore.prototype.add=function(t,e,i){var i=i||this.root,n=t[0],r=t.slice(1);return n in i||(i[n]={docs:{}}),0===r.length?(i[n].docs[e.ref]=e,void(this.length+=1)):this.add(r,e,i[n])},lunr.TokenStore.prototype.has=function(t){if(!t)return!1;for(var e=this.root,i=0;i<t.length;i++){if(!e[t[i]])return!1;e=e[t[i]]}return!0},lunr.TokenStore.prototype.getNode=function(t){if(!t)return{};for(var e=this.root,i=0;i<t.length;i++){if(!e[t[i]])return{};e=e[t[i]]}return e},lunr.TokenStore.prototype.get=function(t,e){return this.getNode(t,e).docs||{}},lunr.TokenStore.prototype.count=function(t,e){return Object.keys(this.get(t,e)).length},lunr.TokenStore.prototype.remove=function(t,e){if(t){for(var i=this.root,n=0;n<t.length;n++){if(!(t[n]in i))return;i=i[t[n]]}delete i.docs[e]}},lunr.TokenStore.prototype.expand=function(t,e){var i=this.getNode(t),n=i.docs||{},e=e||[];return Object.keys(n).length&&e.push(t),Object.keys(i).forEach((function(i){"docs"!==i&&e.concat(this.expand(t+i,e))}),this),e},lunr.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
function(t,e){if("object"==typeof exports&&exports)e(exports);else{var i={};e(i),"function"==typeof define&&define.amd?define(i):t.Mustache=i}}(this,(function(t){function e(t,e){return f.call(t,e)}function i(t){return!e(d,t)}function n(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t){return String(t).replace(/[&<>"'\/]/g,(function(t){return v[t]}))}function s(t){if(!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);return[new RegExp(r(t[0])+"\\s*"),new RegExp("\\s*"+r(t[1]))]}function a(e,n){function o(){if(m&&!g)for(;d.length;)delete f[d.pop()];else d=[];m=!1,g=!1}e=e||"","string"==typeof(n=n||t.tags)&&(n=n.split(_));for(var a=s(n),c=new u(e),p=[],f=[],d=[],m=!1,g=!1,v,S,k,T,$,z;!c.eos();){if(v=c.pos,k=c.scanUntil(a[0]))for(var C=0,A=k.length;C<A;++C)i(T=k.charAt(C))?d.push(f.length):g=!0,f.push(["text",T,v,v+1]),v+=1,"\n"===T&&o();if(!c.scan(a[0]))break;if(m=!0,S=c.scan(x)||"name",c.scan(y),"="===S?(k=c.scanUntil(b),c.scan(b),c.scanUntil(a[1])):"{"===S?(k=c.scanUntil(new RegExp("\\s*"+r("}"+n[1]))),c.scan(w),c.scanUntil(a[1]),S="&"):k=c.scanUntil(a[1]),!c.scan(a[1]))throw new Error("Unclosed tag at "+c.pos);if($=[S,k,v,c.pos],f.push($),"#"===S||"^"===S)p.push($);else if("/"===S){if(!(z=p.pop()))throw new Error('Unopened section "'+k+'" at '+v);if(z[1]!==k)throw new Error('Unclosed section "'+z[1]+'" at '+v)}else"name"===S||"{"===S||"&"===S?g=!0:"="===S&&(a=s(n=k.split(_)))}if(z=p.pop())throw new Error('Unclosed section "'+z[1]+'" at '+c.pos);return h(l(f))}function l(t){for(var e=[],i,n,r=0,o=t.length;r<o;++r)(i=t[r])&&("text"===i[0]&&n&&"text"===n[0]?(n[1]+=i[1],n[3]=i[3]):(e.push(i),n=i));return e}function h(t){for(var e=[],i=e,n=[],r,o,s=0,a=t.length;s<a;++s)switch((r=t[s])[0]){case"#":case"^":i.push(r),n.push(r),i=r[4]=[];break;case"/":(o=n.pop())[5]=r[2],i=n.length>0?n[n.length-1][4]:e;break;default:i.push(r)}return e}function u(t){this.string=t,this.tail=t,this.pos=0}function c(t,e){this.view=null==t?{}:t,this.cache={".":this.view},this.parent=e}function p(){this.cache={}}var f=RegExp.prototype.test,d=/\S/,m=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===m.call(t)},v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},y=/\s*/,_=/\s+/,b=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(t){var e=this.tail.match(t);if(e&&0===e.index){var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i}return""},u.prototype.scanUntil=function(t){var e=this.tail.search(t),i;switch(e){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=i.length,i},c.prototype.push=function(t){return new c(t,this)},c.prototype.lookup=function(t){var e;if(t in this.cache)e=this.cache[t];else{for(var i=this;i;){if(t.indexOf(".")>0){e=i.view;for(var r=t.split("."),o=0;null!=e&&o<r.length;)e=e[r[o++]]}else e=i.view[t];if(null!=e)break;i=i.parent}this.cache[t]=e}return n(e)&&(e=e.call(this.view)),e},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=a(t,e)),n},p.prototype.render=function(t,e,i){var n=this.parse(t),r=e instanceof c?e:new c(e);return this.renderTokens(n,r,i,t)},p.prototype.renderTokens=function(e,i,r,o){function s(t){return l.render(t,i,r)}for(var a="",l=this,h,u,c=0,p=e.length;c<p;++c)switch((h=e[c])[0]){case"#":if(!(u=i.lookup(h[1])))continue;if(g(u))for(var f=0,d=u.length;f<d;++f)a+=this.renderTokens(h[4],i.push(u[f]),r,o);else if("object"==typeof u||"string"==typeof u)a+=this.renderTokens(h[4],i.push(u),r,o);else if(n(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(i.view,o.slice(h[3],h[5]),s))&&(a+=u)}else a+=this.renderTokens(h[4],i,r,o);break;case"^":(!(u=i.lookup(h[1]))||g(u)&&0===u.length)&&(a+=this.renderTokens(h[4],i,r,o));break;case">":if(!r)continue;null!=(u=n(r)?r(h[1]):r[h[1]])&&(a+=this.renderTokens(this.parse(u),i,r,u));break;case"&":null!=(u=i.lookup(h[1]))&&(a+=u);break;case"name":null!=(u=i.lookup(h[1]))&&(a+=t.escape(u));break;case"text":a+=h[1];break}return a},t.name="mustache.js",t.version="0.8.1",t.tags=["{{","}}"];var S=new p;t.clearCache=function(){return S.clearCache()},t.parse=function(t,e){return S.parse(t,e)},t.render=function(t,e,i){return S.render(t,e,i)},t.to_html=function(e,i,r,o){var s=t.render(e,i,r);if(!n(o))return s;o(s)},t.escape=o,t.Scanner=u,t.Context=c,t.Writer=p})),/*! URI.js v1.12.1 http://medialize.github.com/URI.js/ */
function(t,e){"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,(function(t,e,i,n){function r(t,e){return this instanceof r?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new r(t,e)}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function a(t){return"Array"===s(t)}function l(t,e){var i,n;if(a(e)){for(i=0,n=e.length;i<n;i++)if(!l(t,e[i]))return!1;return!0}var r=s(e);for(i=0,n=t.length;i<n;i++)if("RegExp"===r){if("string"==typeof t[i]&&t[i].match(e))return!0}else if(t[i]===e)return!0;return!1}function h(t,e){if(!a(t)||!a(e)||t.length!==e.length)return!1;t.sort(),e.sort();for(var i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}function u(t){return escape(t)}function c(t){return encodeURIComponent(t).replace(/[!'()*]/g,u).replace(/\*/g,"%2A")}var p=n&&n.URI;r.version="1.12.1";var f=r.prototype,d=Object.prototype.hasOwnProperty;r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}},r.duplicateQueryParameters=!1,r.escapeQuerySpace=!0,r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,r.idn_expression=/[^a-z0-9\.-]/i,r.punycode_expression=/(xn--)/i,r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},r.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},r.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();return"input"===e&&"image"!==t.type?void 0:r.domAttributes[e]}},r.encode=c,r.decode=decodeURIComponent,r.iso8859=function(){r.encode=escape,r.decode=unescape},r.unicode=function(){r.encode=c,r.decode=decodeURIComponent},r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},r.encodeQuery=function(t,e){var i=r.encode(t+"");return void 0===e&&(e=r.escapeQuerySpace),e?i.replace(/%20/g,"+"):i},r.decodeQuery=function(t,e){t+="",void 0===e&&(e=r.escapeQuerySpace);try{return r.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}},r.recodePath=function(t){for(var e=0,i=(t=(t+"").split("/")).length;e<i;e++)t[e]=r.encodePathSegment(r.decode(t[e]));return t.join("/")},r.decodePath=function(t){for(var e=0,i=(t=(t+"").split("/")).length;e<i;e++)t[e]=r.decodePathSegment(t[e]);return t.join("/")};var m={encode:"encode",decode:"decode"},g,v=function(t,e){return function(i){return r[e](i+"").replace(r.characters[t][e].expression,(function(i){return r.characters[t][e].map[i]}))}};for(g in m)r[g+"PathSegment"]=v("pathname",m[g]);for(g in r.encodeReserved=v("reserved","encode"),r.parse=function(t,e){var i;return e||(e={}),-1<(i=t.indexOf("#"))&&(e.fragment=t.substring(i+1)||null,t=t.substring(0,i)),-1<(i=t.indexOf("?"))&&(e.query=t.substring(i+1)||null,t=t.substring(0,i)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=r.parseAuthority(t,e)):-1<(i=t.indexOf(":"))&&(e.protocol=t.substring(0,i)||null,e.protocol&&!e.protocol.match(r.protocol_expression)?e.protocol=void 0:"file"===e.protocol?t=t.substring(i+3):"//"===t.substring(i+1,i+3)?(t=t.substring(i+3),t=r.parseAuthority(t,e)):(t=t.substring(i+1),e.urn=!0)),e.path=t,e},r.parseHost=function(t,e){var i=t.indexOf("/"),n;return-1===i&&(i=t.length),"["===t.charAt(0)?(n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,i)||null):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,i)||null,e.port=null):(n=t.substring(0,i).split(":"),e.hostname=n[0]||null,e.port=n[1]||null),e.hostname&&"/"!==t.substring(i).charAt(0)&&(i++,t="/"+t),t.substring(i)||"/"},r.parseAuthority=function(t,e){return t=r.parseUserinfo(t,e),r.parseHost(t,e)},r.parseUserinfo=function(t,e){var i=t.indexOf("/"),n=-1<i?t.lastIndexOf("@",i):t.indexOf("@");return-1<n&&(-1===i||n<i)?(i=t.substring(0,n).split(":"),e.username=i[0]?r.decode(i[0]):null,i.shift(),e.password=i[0]?r.decode(i.join(":")):null,t=t.substring(n+1)):(e.username=null,e.password=null),t},r.parseQuery=function(t,e){if(!t)return{};if(!(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var i={},n=t.split("&"),o=n.length,s,a,l=0;l<o;l++)s=n[l].split("="),a=r.decodeQuery(s.shift(),e),s=s.length?r.decodeQuery(s.join("="),e):null,i[a]?("string"==typeof i[a]&&(i[a]=[i[a]]),i[a].push(s)):i[a]=s;return i},r.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=r.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},r.buildHost=function(t){var e="";return t.hostname?(r.ip6_expression.test(t.hostname)?e=t.port?e+"["+t.hostname+"]:"+t.port:e+t.hostname:(e+=t.hostname,t.port&&(e+=":"+t.port)),e):""},r.buildAuthority=function(t){return r.buildUserinfo(t)+r.buildHost(t)},r.buildUserinfo=function(t){var e="";return t.username&&(e+=r.encode(t.username),t.password&&(e+=":"+r.encode(t.password)),e+="@"),e},r.buildQuery=function(t,e,i){var n="",o,s,l,h;for(s in t)if(d.call(t,s)&&s)if(a(t[s]))for(o={},l=0,h=t[s].length;l<h;l++)void 0!==t[s][l]&&void 0===o[t[s][l]+""]&&(n+="&"+r.buildQueryParameter(s,t[s][l],i),!0!==e&&(o[t[s][l]+""]=!0));else void 0!==t[s]&&(n+="&"+r.buildQueryParameter(s,t[s],i));return n.substring(1)},r.buildQueryParameter=function(t,e,i){return r.encodeQuery(t,i)+(null!==e?"="+r.encodeQuery(e,i):"")},r.addQuery=function(t,e,i){if("object"==typeof e)for(var n in e)d.call(e,n)&&r.addQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===t[e]?t[e]=i:("string"==typeof t[e]&&(t[e]=[t[e]]),a(i)||(i=[i]),t[e]=t[e].concat(i))}},r.removeQuery=function(t,e,i){var n;if(a(e))for(i=0,n=e.length;i<n;i++)t[e[i]]=void 0;else if("object"==typeof e)for(n in e)d.call(e,n)&&r.removeQuery(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==i){if(t[e]===i)t[e]=void 0;else if(a(t[e])){n=t[e];var o={},s,l;if(a(i))for(s=0,l=i.length;s<l;s++)o[i[s]]=!0;else o[i]=!0;for(s=0,l=n.length;s<l;s++)void 0!==o[n[s]]&&(n.splice(s,1),l--,s--);t[e]=n}}else t[e]=void 0}},r.hasQuery=function(t,e,i,n){if("object"==typeof e){for(var o in e)if(d.call(e,o)&&!r.hasQuery(t,o,e[o]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(s(i)){case"Undefined":return e in t;case"Boolean":return i===(t=Boolean(a(t[e])?t[e].length:t[e]));case"Function":return!!i(t[e],e,t);case"Array":return!!a(t[e])&&(n?l:h)(t[e],i);case"RegExp":return a(t[e])?!!n&&l(t[e],i):Boolean(t[e]&&t[e].match(i));case"Number":i=String(i);case"String":return a(t[e])?!!n&&l(t[e],i):t[e]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.commonPath=function(t,e){var i=Math.min(t.length,e.length),n;for(n=0;n<i;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return 1>n?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(n)&&"/"===e.charAt(n)||(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},r.withinString=function(t,e,i){i||(i={});var n=i.start||r.findUri.start,o=i.end||r.findUri.end,s=i.trim||r.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var l=n.exec(t),h;if(!l)break;if(l=l.index,i.ignoreHtml)if((h=t.slice(Math.max(l-3,0),l))&&a.test(h))continue;var h=l+t.slice(l).search(o),u=t.slice(l,h).replace(s,"");i.ignore&&i.ignore.test(u)||(u=e(u,l,h=l+u.length,t),t=t.slice(0,l)+u+t.slice(h),n.lastIndex=l+u.length)}return n.lastIndex=0,t},r.ensureValidHostname=function(e){if(e.match(r.invalid_hostname_characters)){if(!t)throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(t.toASCII(e).match(r.invalid_hostname_characters))throw new TypeError("Hostname '"+e+"' contains characters other than [A-Z0-9.-]")}},r.noConflict=function(t){return t?(t={URI:this.noConflict()},URITemplate&&"function"==typeof URITemplate.noConflict&&(t.URITemplate=URITemplate.noConflict()),e&&"function"==typeof e.noConflict&&(t.IPv6=e.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(t.SecondLevelDomains=SecondLevelDomains.noConflict()),t):(n.URI===this&&(n.URI=p),this)},f.build=function(t){return!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=r.build(this._parts),this._deferred_build=!1),this},f.clone=function(){return new r(this)},f.valueOf=f.toString=function(){return this.build(!1)._string},v=function(t){return function(e,i){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!i),this)}},m={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"})f[g]=v(m[g]);for(g in v=function(t,e){return function(i,n){return void 0===i?this._parts[t]||"":(null!==i&&((i+="").charAt(0)===e&&(i=i.substring(1))),this._parts[t]=i,this.build(!n),this)}},m={query:"?",fragment:"#"})f[g]=v(g,m[g]);for(g in v=function(t,e){return function(i,n){var r=this[t](i,n);return"string"==typeof r&&r.length?e+r:r}},m={search:["?","query"],hash:["#","fragment"]})f[g]=v(m[g][1],m[g][0]);f.pathname=function(t,e){if(void 0===t||!0===t){var i=this._parts.path||(this._parts.hostname?"/":"");return t?r.decodePath(i):i}return this._parts.path=t?r.recodePath(t):"/",this.build(!e),this},f.path=f.pathname,f.href=function(t,e){var i;if(void 0===t)return this.toString();this._string="",this._parts=r._parts();var n=t instanceof r,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName&&(t=t[o=r.getDomAttribute(t)]||"",o=!1),!n&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t)this._parts=r.parse(t,this._parts);else{if(!n&&!o)throw new TypeError("invalid input");for(i in n=n?t._parts:t)d.call(this._parts,i)&&(this._parts[i]=n[i])}return this.build(!e),this},f.is=function(t){var e=!1,n=!1,o=!1,s=!1,a=!1,l=!1,h=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,n=r.ip4_expression.test(this._parts.hostname),o=r.ip6_expression.test(this._parts.hostname),a=(s=!(e=n||o))&&i&&i.has(this._parts.hostname),l=s&&r.idn_expression.test(this._parts.hostname),h=s&&r.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return s;case"sld":return a;case"ip":return e;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return o;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return h}return null};var y=f.protocol,_=f.port,b=f.hostname;f.protocol=function(t,e){if(void 0!==t&&t&&!(t=t.replace(/:(\/\/)?$/,"")).match(r.protocol_expression))throw new TypeError("Protocol '"+t+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return y.call(this,t,e)},f.scheme=f.protocol,f.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(":"===(t+="").charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError("Port '"+t+"' contains characters other than [0-9]");return _.call(this,t,e)},f.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var i={};r.parseHost(t,i),t=i.hostname}return b.call(this,t,e)},f.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?r.buildHost(this._parts):"":(r.parseHost(t,this._parts),this.build(!e),this)},f.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?r.buildAuthority(this._parts):"":(r.parseAuthority(t,this._parts),this.build(!e),this)},f.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var i=r.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==t[t.length-1]&&(t+="@"),r.parseUserinfo(t,this._parts),this.build(!e),this},f.resource=function(t,e){var i;return void 0===t?this.path()+this.search()+this.hash():(i=r.parse(t),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!e),this)},f.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}return i=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,i),i=RegExp("^"+o(i)),t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&r.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(i,t),this.build(!e),this},f.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);return i&&2>i.length?this._parts.hostname:(i=this._parts.hostname.length-this.tld(e).length-1,i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||"")}if(!t)throw new TypeError("cannot set domain empty");return r.ensureValidHostname(t),!this._parts.hostname||this.is("IP")?this._parts.hostname=t:(i=RegExp(o(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(i,t)),this.build(!e),this},f.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(n+1);return!0!==e&&i&&i.list[n.toLowerCase()]&&i.get(this._parts.hostname)||n}if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(t))throw new TypeError("TLD '"+t+"' contains characters other than [A-Z0-9]");n=RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");n=RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,t)}return this.build(!e),this},f.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return t?r.decodePath(i):i}return i=this._parts.path.length-this.filename().length,i=this._parts.path.substring(0,i),i=RegExp("^"+o(i)),this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=r.recodePath(t),this._parts.path=this._parts.path.replace(i,t),this.build(!e),this},f.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(i+1);return t?r.decodePathSegment(i):i}i=!1,"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(i=!0);var n=RegExp(o(this.filename())+"$");return t=r.recodePath(t),this._parts.path=this._parts.path.replace(n,t),i?this.normalizePath(e):this.build(!e),this},f.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var i=this.filename(),n=i.lastIndexOf(".");return-1===n?"":(i=i.substring(n+1),i=/^[a-z0-9%]+$/i.test(i)?i:"",t?r.decodePathSegment(i):i)}if("."===t.charAt(0)&&(t=t.substring(1)),i=this.suffix())n=t?RegExp(o(i)+"$"):RegExp(o("."+i)+"$");else{if(!t)return this;this._parts.path+="."+r.recodePath(t)}return n&&(t=r.recodePath(t),this._parts.path=this._parts.path.replace(n,t)),this.build(!e),this},f.segment=function(t,e,i){var n=this._parts.urn?":":"/",r,o="/"===(r=this.path()).substring(0,1),r=r.split(n);if(void 0!==t&&"number"!=typeof t&&(i=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw Error("Bad segment '"+t+"', must be 0-based integer");if(o&&r.shift(),0>t&&(t=Math.max(r.length+t,0)),void 0===e)return void 0===t?r:r[t];if(null===t||void 0===r[t])if(a(e)){r=[],t=0;for(var s=e.length;t<s;t++)(e[t].length||r.length&&r[r.length-1].length)&&(r.length&&!r[r.length-1].length&&r.pop(),r.push(e[t]))}else(e||"string"==typeof e)&&(""===r[r.length-1]?r[r.length-1]=e:r.push(e));else e||"string"==typeof e&&e.length?r[t]=e:r.splice(t,1);return o&&r.unshift(""),this.path(r.join(n),i)},f.segmentCoded=function(t,e,i){var n,o;if("number"!=typeof t&&(i=e,e=t,t=void 0),void 0===e){if(a(t=this.segment(t,e,i)))for(n=0,o=t.length;n<o;n++)t[n]=r.decode(t[n]);else t=void 0!==t?r.decode(t):void 0;return t}if(a(e))for(n=0,o=e.length;n<o;n++)e[n]=r.decode(e[n]);else e="string"==typeof e?r.encode(e):e;return this.segment(t,e,i)};var w=f.query;return f.query=function(t,e){if(!0===t)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=t.call(this,i);return this._parts.query=r.buildQuery(n||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=r.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):w.call(this,t,e)},f.setQuery=function(t,e,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof t)for(var o in t)d.call(t,o)&&(n[o]=t[o]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");n[t]=void 0!==e?e:null}return this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},f.addQuery=function(t,e,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.addQuery(n,t,void 0===e?null:e),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},f.removeQuery=function(t,e,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.removeQuery(n,t,e),this._parts.query=r.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(i=e),this.build(!i),this},f.hasQuery=function(t,e,i){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(n,t,e,i)},f.setSearch=f.setQuery,f.addSearch=f.addQuery,f.removeSearch=f.removeQuery,f.hasSearch=f.hasQuery,f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},f.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},f.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},f.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},f.normalizePath=function(t){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var e,i=this._parts.path,n="",o,s;for("/"!==i.charAt(0)&&(e=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(n=i.substring(1).match(/^(\.\.\/)+/)||"")&&(n=n[0]);-1!==(o=i.indexOf("/.."));)0!==o?(-1===(s=i.substring(0,o).lastIndexOf("/"))&&(s=o),i=i.substring(0,s)+i.substring(o+3)):i=i.substring(3);return e&&this.is("relative")&&(i=n+i.substring(1)),i=r.recodePath(i),this._parts.path=i,this.build(!t),this},f.normalizePathname=f.normalizePath,f.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},f.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},f.normalizeSearch=f.normalizeQuery,f.normalizeHash=f.normalizeFragment,f.iso8859=function(){var t=r.encode,e=r.decode;return r.encode=escape,r.decode=decodeURIComponent,this.normalize(),r.encode=t,r.decode=e,this},f.unicode=function(){var t=r.encode,e=r.decode;return r.encode=c,r.decode=unescape,this.normalize(),r.encode=t,r.decode=e,this},f.readable=function(){var e=this.clone();e.username("").password("").normalize();var i="";if(e._parts.protocol&&(i+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(i+=t.toUnicode(e._parts.hostname),e._parts.port&&(i+=":"+e._parts.port)):i+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(i+="/"),i+=e.path(!0),e._parts.query){for(var n="",o=0,s=e._parts.query.split("&"),a=s.length;o<a;o++){var l=(s[o]||"").split("="),n=n+"&"+r.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");void 0!==l[1]&&(n+="="+r.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}i+="?"+n.substring(1)}return i+=r.decodeQuery(e.hash(),!0)},f.absoluteTo=function(t){var e=this.clone(),i=["protocol","username","password","hostname","port"],n,o;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(t instanceof r||(t=new r(t)),e._parts.protocol||(e._parts.protocol=t._parts.protocol),this._parts.hostname)return e;for(n=0;o=i[n];n++)e._parts[o]=t._parts[o];return e._parts.path?".."===e._parts.path.substring(-2)&&(e._parts.path+="/"):(e._parts.path=t._parts.path,e._parts.query||(e._parts.query=t._parts.query)),"/"!==e.path().charAt(0)&&(t=t.directory(),e._parts.path=(t?t+"/":"")+e._parts.path,e.normalizePath()),e.build(),e},f.relativeTo=function(t){var e=this.clone().normalize(),i,n,o,s;if(e._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(t=new r(t).normalize(),i=e._parts,n=t._parts,o=e.path(),s=t.path(),"/"!==o.charAt(0))throw Error("URI is already relative");if("/"!==s.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return i.protocol===n.protocol&&(i.protocol=null),i.username!==n.username||i.password!==n.password||null!==i.protocol||null!==i.username||null!==i.password||i.hostname!==n.hostname||i.port!==n.port?e.build():(i.hostname=null,i.port=null,o===s?(i.path="",e.build()):(t=r.commonPath(e.path(),t.path()))?(n=n.path.substring(t.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),i.path=n+i.path.substring(t.length),e.build()):e.build())},f.equals=function(t){var e=this.clone();t=new r(t);var i={},n={},o={},s;if(e.normalize(),t.normalize(),e.toString()===t.toString())return!0;if(i=e.query(),n=t.query(),e.query(""),t.query(""),e.toString()!==t.toString()||i.length!==n.length)return!1;for(s in i=r.parseQuery(i,this._parts.escapeQuerySpace),n=r.parseQuery(n,this._parts.escapeQuerySpace),i)if(d.call(i,s)){if(a(i[s])){if(!h(i[s],n[s]))return!1}else if(i[s]!==n[s])return!1;o[s]=!0}for(s in n)if(d.call(n,s)&&!o[s])return!1;return!0},f.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},f.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},r})),function(t){var e=function(t){var e,i=Array.prototype.slice;return function(){var n=i.call(arguments),r=this;clearTimeout(e),e=setTimeout((function(){t.apply(r,n)}),100)}},i=function(t){var e=t.match(/(\d+)/g);return new Date(e[0],e[1]-1,e[2])},n=function(){function n(e,i){this.$elem=e,this.$results=t(i.results),this.$entries=t(i.entries,this.$results),this.indexDataUrl=i.indexUrl,this.index=this.createIndex(),this.template=this.compileTemplate(t(i.template)),this.initialize()}return n.prototype.initialize=function(){var t=this;this.loadIndexData((function(e){t.populateIndex(e),t.populateSearchFromQuery(),t.bindKeypress()}))},n.prototype.createIndex=function(){return lunr((function(){this.field("title",{boost:10}),this.field("categories"),this.ref("id"),this.field("author"),this.field("addressee"),this.field("position")}))},n.prototype.compileTemplate=function(t){var e=t.text();return Mustache.parse(e),function(t,i){return Mustache.render(e,t,i)}},n.prototype.loadIndexData=function(e){t.getJSON(this.indexDataUrl,e)},n.prototype.populateIndex=function(e){var i=this.index;this.entries=t.map(e.entries,this.createEntry),t.each(this.entries,(function(t,e){i.add(e)}))},n.prototype.createEntry=function(e,n){var r=t.extend({id:n+1},e);return e.date&&t.extend(r,{date:i(e.date),pubdate:function(){return dateFormat(i(e.date),"yyyy-mm-dd")},displaydate:function(){return dateFormat(i(e.date),"mmm dd, yyyy")},categories:e.categories.join(" ")}),r},n.prototype.bindKeypress=function(){var t=this,i=this.$elem.val();this.$elem.bind("keyup",e((function(){var e=t.$elem.val();e!==i&&t.search(e),i=e})))},n.prototype.search=function(e){var i=this.entries;if(e.length<2)this.$results.hide(),this.$entries.empty();else{var n=t.map(this.index.search(e),(function(e){return t.grep(i,(function(t){return t.id===parseInt(e.ref,10)}))[0]}));this.displayResults(n)}},n.prototype.displayResults=function(t){var e=this.$entries,i=this.$results;e.empty(),0===t.length?e.append("<p>Nothing found.</p>"):e.append(this.template({entries:t})),i.show()},n.prototype.populateSearchFromQuery=function(){var t,e=new URI(window.location.search.toString()).search(!0);e.hasOwnProperty("q")&&(this.$elem.val(e.q),this.search(e.q.toString()))},n}();t.fn.lunrSearch=function(e){return e=t.extend({},t.fn.lunrSearch.defaults,e),new n(this,e),this},t.fn.lunrSearch.defaults={indexUrl:"/search.json",results:"#search-results",entries:".entries",template:"#search-results-template"}}(jQuery),$(document).ready((function(){function t(){var t=$("#story-title");if(t.size()){var e=$(window).width();t.css({width:e}),$(window).width()<1200?($("#title-img").addClass("title-img"),$("#title-img").removeClass("title-img-fade"),$("#story-title").css({"background-color":"transparent"})):($("#title-img").addClass("title-img-fade"),$("#title-img").removeClass("title-img"),$("#story-title").css({"background-color":"#000"}))}var i=$("#home-feature");if(i.size()){var n=$(window).width();i.css({width:n}),$(window).width()<1200?($("#home-feature-img").addClass("home-feature-img"),$("#home-feature-img").removeClass("home-feature-img-fade"),$("#home-feature").css({"background-color":"#000"})):($("#home-feature-img").addClass("home-feature-img-fade"),$("#home-feature-img").removeClass("home-feature-img"))}$("#top-nav").waypoint((function(t){"down"===t&&$(window).width()>640?($("#mini-top-nav.mini-top-nav-hidden").css({position:"fixed"}),$("#mini-top-nav.mini-top-nav-hidden").css({display:"block"}),$("#mini-top-nav.mini-top-nav-hidden").css({top:"0"})):"up"===t&&$(window).width()>640&&$("#mini-top-nav.mini-top-nav-hidden").css({top:"-50px"})}),{offset:-100}),$(window).width()>640?($(window).stellar({horizontalScrolling:!1,verticalOffset:0,horizontalOffset:0,hideDistantElements:!1,responsive:!0}),$("#title-img").attr("data-stellar-background-ratio",".25"),$("#home-feature-img").attr("data-stellar-background-ratio",".25"),$(".status-row").attr("data-stellar-ratio","1.1"),$(".people-row").attr("data-stellar-ratio","1.1")):($("#title-img").removeAttr("data-stellar-background-ratio"),$("#home-feature-img").removeAttr("data-stellar-background-ratio"),$(".status-row").removeAttr("data-stellar-ratio"),$(".people-row").removeAttr("data-stellar-ratio"))}$(window).load((function(){t()})).bind("resize",(function(){t(),$("#mini-top-nav.mini-top-nav-hidden").removeAttr("style"),$("#top-nav").waypoint((function(){$("#mini-top-nav.mini-top-nav-hidden").css({top:"0"})}),{offset:-100})})),$((function(){$("#story-title").css({width:$(window).width()+"px"})})),$("p").contentshare({shareIcons:["fa-facebook","fa-twitter"],shareLinks:["http://www.facebook.com/sharer.php?s=100&p[url]="+document.URL+"&p[title]="+document.title+"&p[summary]={{text}}","http://twitter.com/intent/tweet?text={{text}}%0a"+window.location.href],minLength:1}),$.fn.contentshare.defaults.shareable.on("mouseup",(function(){$.fn.contentshare.showTooltip()})),$(window).resize()})),
/*!
  hey, [be]Lazy.js - v1.3.1 - 2015.02.01
  A lazy loading and multi-serving image script
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Blazy=e()}(this,(function(){function t(t){if(!document.querySelectorAll){var n=document.createStyleSheet();document.querySelectorAll=function(t,e,i,r,o){for(o=document.all,e=[],i=(t=t.replace(/\[for\b/gi,"[htmlFor").split(",")).length;i--;){for(n.addRule(t[i],"k:v"),r=o.length;r--;)o[r].currentStyle.k&&e.push(o[r]);n.removeRule(0)}return e}}g=!0,f=[],p={},(c=t||{}).error=c.error||!1,c.offset=c.offset||100,c.success=c.success||!1,c.selector=c.selector||".b-lazy",c.separator=c.separator||"|",c.container=!!c.container&&document.querySelectorAll(c.container),c.errorClass=c.errorClass||"b-error",c.breakpoints=c.breakpoints||!1,c.successClass=c.successClass||"b-loaded",c.src=u=c.src||"data-src",m=1<window.devicePixelRatio,p.top=0-c.offset,p.left=0-c.offset,v=h(i,25),y=h(o,50),o(),l(c.breakpoints,(function(t){if(t.width>=window.screen.width)return u=t.src,!1})),e()}function e(){r(c.selector),g&&(g=!1,c.container&&l(c.container,(function(t){s(t,"scroll",v)})),s(window,"resize",y),s(window,"resize",v),s(window,"scroll",v)),i()}function i(){for(var e=0;e<d;e++){var i=f[e],n=i.getBoundingClientRect();(n.right>=p.left&&n.bottom>=p.top&&n.left<=p.right&&n.top<=p.bottom||-1!==(" "+i.className+" ").indexOf(" "+c.successClass+" "))&&(t.prototype.load(i),f.splice(e,1),d--,e--)}0===d&&t.prototype.destroy()}function n(t,e){var i;if(e||0<t.offsetWidth&&0<t.offsetHeight)if(i=t.getAttribute(u)||t.getAttribute(c.src)){var i,n=(i=i.split(c.separator))[m&&1<i.length?1:0],i=new Image;l(c.breakpoints,(function(e){t.removeAttribute(e.src)})),t.removeAttribute(c.src),i.onerror=function(){c.error&&c.error(t,"invalid"),t.className=t.className+" "+c.errorClass},i.onload=function(){"img"===t.nodeName.toLowerCase()?t.src=n:t.style.backgroundImage='url("'+n+'")',t.className=t.className+" "+c.successClass,c.success&&c.success(t)},i.src=n}else c.error&&c.error(t,"missing"),t.className=t.className+" "+c.errorClass}function r(t){t=document.querySelectorAll(t);for(var e=d=t.length;e--;f.unshift(t[e]));}function o(){p.bottom=(window.innerHeight||document.documentElement.clientHeight)+c.offset,p.right=(window.innerWidth||document.documentElement.clientWidth)+c.offset}function s(t,e,i){t.attachEvent?t.attachEvent&&t.attachEvent("on"+e,i):t.addEventListener(e,i,!1)}function a(t,e,i){t.detachEvent?t.detachEvent&&t.detachEvent("on"+e,i):t.removeEventListener(e,i,!1)}function l(t,e){if(t&&e)for(var i=t.length,n=0;n<i&&!1!==e(t[n],n);n++);}function h(t,e){var i=0;return function(){var n=+new Date;n-i<e||(i=n,t.apply(f,arguments))}}var u,c,p,f,d,m,g,v,y;return t.prototype.revalidate=function(){e()},t.prototype.load=function(t,e){-1===(" "+t.className+" ").indexOf(" "+c.successClass+" ")&&n(t,e)},t.prototype.destroy=function(){c.container&&l(c.container,(function(t){a(t,"scroll",v)})),a(window,"scroll",v),a(window,"resize",v),a(window,"resize",y),d=0,f.length=0,g=!0},t}));